
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>RESTful Services - KnowledgeShop</title>
  <meta name="author" content="Mohamed Fizal Ihsan Mohamed">


<meta name="description" content="RESTful Services REST Concepts Why REST? Basic definitions How REST works? RESTful Architectural Principles WADL RESTful Frameworks Servlet based &hellip;">
<meta name="keywords" content="big data, data science, mongodb, nosql, R, statistics">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://fizalihsan.github.io/technology/rest-services.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <!-- Below custom CSS is for table border styling -->
  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />

  <link href="/atom.xml" rel="alternate" title="KnowledgeShop" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">


<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
jax: ["input/TeX", "output/HTML-CSS"],
tex2jax: {
  inlineMath: [ ['$', '$'], ["\\(","\\)"] ],
  displayMath: [ ['$$', '$$'], ["\\[","\\]"] ],
  processEscapes: true,
  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
},
messageStyle: "none",
"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript" /></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-58187831-1']);
    _gaq.push(['_setDomainName','github.io']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">KnowledgeShop</a></h1>
  
    <h2>Learn & Share</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:fizalihsan.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  

  
    <form action="/search" method="get">
  <fieldset role ="search">
    <input type="text" id="search-query" name="q" placeholder="Search" autocomplete="off" class="search" />
  </fieldset>
</form>

  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/search">Search</a></li>
</ul>


</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">RESTful Services</h1>
    
  </header>
  
  <ul id="markdown-toc">
  <li><a href="#rest-concepts">REST Concepts</a>    <ul>
      <li><a href="#why-rest">Why REST?</a></li>
      <li><a href="#basic-definitions">Basic definitions</a></li>
    </ul>
  </li>
  <li><a href="#how-rest-works">How REST works?</a></li>
  <li><a href="#restful-architectural-principles">RESTful Architectural Principles</a></li>
  <li><a href="#wadl">WADL</a></li>
  <li><a href="#restful-frameworks">RESTful Frameworks</a>    <ul>
      <li><a href="#servlet-based-web-services">Servlet based Web Services</a></li>
      <li><a href="#jax-rs-api">JAX-RS API</a>        <ul>
          <li><a href="#path">@Path</a>            <ul>
              <li><a href="#matrix-parameters">Matrix Parameters</a>                <ul>
                  <li><a href="#subresource-locators">Subresource Locators</a></li>
                </ul>
              </li>
              <li><a href="#jax-rs-injections---request-header-related-annotations">JAX-RS Injections - Request header related annotations</a></li>
              <li><a href="#http-content-negotiation-in-jax-rs">HTTP Content Negotiation in JAX-RS</a></li>
            </ul>
          </li>
          <li><a href="#request--response-management">Request &amp; Response Management</a></li>
        </ul>
      </li>
      <li><a href="#restlet">RESTlet</a></li>
      <li><a href="#jax-ws-api">JAX-WS API</a>        <ul>
          <li><a href="#metro">Metro</a></li>
          <li><a href="#apache-cxf">Apache CXF</a></li>
          <li><a href="#apache-axis2">Apache Axis2</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#open-questions">Open Questions</a></li>
  <li><a href="#references">References</a></li>
</ul>

<h1 id="rest-concepts">REST Concepts</h1>

<ul>
  <li>stands for REpresentational State Transfer</li>
  <li>A resource in the RESTful sense is something that is accessible through HTTP because this thing has a name—URI (Uniform Resource Identifier). </li>
  <li>Though REST usually means REST over HTTP, it is actually not protocol-specific. Despite the occurrence of Transport in its name, HTTP acts as an API in RESTful approach and not simply as a transport protocol. </li>
</ul>

<h2 id="why-rest">Why REST?</h2>

<ul>
  <li><strong>Ability to leverage commodity caching technologies</strong>
This API style leverages commodity caching technologies designed specifically with HTTP in mind. If, for example, a client requests a product that hasn’t changed within the past day, and information on that product can be found in a Reverse Proxy, then the cached representation will be returned and service execution can be bypassed. This reduces the load on the Origin Server, especially in cases where the service would have queried a database or performed a CPU- or memory-intensive computation</li>
</ul>

<h2 id="basic-definitions">Basic definitions</h2>

<ul>
  <li><strong>What is a Resource?</strong> The technical term for the thing named by a URL is resource.</li>
  <li><strong>What is a Representation?</strong> Whatever document the server sends back through the URL request, we call that document a representation of the resource. A representation can be any machine-readable document containing any information about a resource.</li>
  <li><strong>What is Addressability?</strong> The principle of addressability just says that every resource should have its own URL. If something is important to your application, it should have a unique name, a URL, so that you and your users can refer to it unambiguously.</li>
  <li><strong>What is Application State?</strong> Using a browser when you visit a site’s homepage, from there to “About Us” page and from there to “Contact Us” page, the state of the browser is changing. In REST terminology, this is called ‘Application State’ change.</li>
  <li><strong>What is Resource State?</strong> State of the resources being served via the web service. It can be static or dynamic. PUT and POST methods typically alter the state of the resource.</li>
  <li><strong>What is Hypermedia?</strong> Hypermedia is the general term for things like HTML links and forms: the techniques a server uses to explain to a client what it can do next. Hypermedia is a way for the server to tell the client what HTTP requests the client might want to make in the future. It’s a menu, provided by the server, from which the client is free to choose.</li>
  <li><strong>What is a hypermedia control?</strong> HTML <code>&lt;a&gt;</code> tag, HTML <code>&lt;form&gt;</code>, HTML <code>&lt;img&gt;</code>, URI Template, etc.</li>
  <li><strong>What is HATEOAS?</strong> “Hypermedia as the engine of application state”. To say that hypermedia is the engine of application state is to say that we all navigate the Web by filling out forms and following links.</li>
  <li><strong>What is REST?</strong> Representational State Transfer. The server sends a representation via GET operations describing the state of a resource. The client sends a representation via POST/PUT describing the state it would like the resource to have. That’s representational state transfer.</li>
  <li><strong>What is a safe method?</strong> GET &amp; HEAD are defined as safe HTTP methods. It’s just a request for information. Sending a GET request to the server should have the same effect on resource state as not sending a GET request—that is, no effect at all. Incidental side effects like logging and rate limiting are OK, but a client should never make a GET request hoping that it will change the resource state.</li>
  <li><strong>What is Idempotence?</strong> Sending a request twice has the same effect on resource state as sending it once. GET, DELETE and PUT are idempotent. This notion comes from math. Multiplying a number by zero or one is an idempotent operation. Once you multiply a number by zero, you can keep multiplying it by zero indefinitely and get the same result: zero. </li>
  <li>URL Vs URI 
    <ul>
      <li>A URI has two subtypes: 
        <ol>
          <li>The URL, which specifies a location, and </li>
          <li>and the URN, which is a symbolic name but not a location.</li>
        </ol>
      </li>
      <li>URI - short string to identify a resource. URI may or may not have a representation. URI is nothing but an identifier. E.g., <code>urn:isbn:9781449358063</code>. It designates a resource: the print edition of a book. Not any particular copy of this book, but the abstract concept of an entire edition.</li>
      <li>URL - short string to identify a resource. Every URL is a URI. URL always has a representation. URL is an identifier that can be dereferenced (get a representation of a resource using the identifier).</li>
    </ul>
  </li>
</ul>

<h1 id="how-rest-works">How REST works?</h1>

<p>In the usual case of web service access to a resource, the requester receives a representation of the resource if the request succeeds. It is the representation that transfers
from the service machine to the requester machine. In a REST-style web service, a client does two things in an HTTP request:</p>

<ul>
  <li>Names the targeted resource by giving its URI, typically as part of a URL.</li>
  <li>Specifies a verb (HTTP method), which indicates what the client wishes to do; for example, read an existing resource, create a new resource from scratch, edit an existing resource, or delete an existing resource.</li>
</ul>

<p>As web-based informational items, resources are pointless unless they have at least one representation. In the Web, representations are MIME typed. The most common type of resource representation is probably still text/html, but nowadays resources tend to have multiple representations.</p>

<p>For the record, RESTful web services are Turing complete; that is, these services are equal in power to any computational system, including a system that consists of SOAP-based web services or DOA stubs and skeletons.</p>

<h1 id="restful-architectural-principles">RESTful Architectural Principles</h1>

<ul>
  <li><strong>Addressable resources</strong> - The key abstraction of information and data in REST is a resource, and each resource must be addressable via a URI (Uniform Resource Identifier).</li>
  <li><strong>A uniform, constrained interface</strong> - The Uniform, Constrained Interface - The idea behind it is that you stick to the finite set of operations of the application protocol you’re distributing your services upon. This means that you don’t have an “action” parameter in your URI and use only the methods of HTTP for your web services. HTTP has a small, fixed set of operational methods. Use a small set of well-defined methods to manipulate your resources.</li>
  <li><strong>Representation-oriented</strong> - interact with services using representations of that service. A resource referenced by one URI can have different formats. Different platforms need different formats. For example, browsers need HTML, JavaScript needs JSON (JavaScript Object Notation), and a Java application may need XML.</li>
  <li><strong>Communicate statelessly</strong> - stateless means that there is no client session data stored on the server. Client should maintain sessions, if required. A service layer that does not have to maintain client sessions is a lot easier to scale, as it has to do a lot fewer expensive replications in a clustered environment. It’s a lot easier to scale up, because all you have to do is add machines.</li>
  <li><strong>Hypermedia As The Engine Of Application State (HATEOAS)</strong>
    <ul>
      <li>Hypermedia is a document-centric approach with the added support for embedding links to other services and information within that document format. The more interesting part of HATEOAS is the “engine.”  Let your data formats drive state transitions in your applications.</li>
      <li>The architectural principle that describes linking and form submission is called HATEOAS. </li>
      <li>HATEOAS stands for Hypermedia As The Engine Of Application State.</li>
      <li>The idea of HATEOAS is that your data format provides extra information on how to change the state of your application. On the Web, HTML links allow you to change the state of your browser. When reading a web page, a link tells you which possible documents (states) you can view next. When you click a link, your browser’s state changes as it visits and renders a new web page. HTML forms, on the other hand, provide a way for you to change the state of a specific resource on your server. When you buy something on the Internet through an HTML form, you are creating two new resources on the server: a credit card transaction and an order entry.</li>
      <li>When applying HATEOAS to web services, the idea is to embed links within your XML or JSON documents. While this can be as easy as inserting a URL as the value of an element or attribute, most XML-based RESTful applications use syntax from the Atom  Syndication Format as a means to implement HATEOAS.</li>
    </ul>
  </li>
</ul>

<h1 id="wadl">WADL</h1>

<ul>
  <li>WADL stands for Web Application Description Language </li>
  <li>JAX-RS implementations such as Metro do provide a WSDL counterpart, the WADL document that describes a JAX-RS service and can be used to generate client-side code.</li>
  <li><code>wadl2java</code> utility tool generates Java code from a WADL document.</li>
  <li>The publisher of JAX-RS service generates the WADL dynamically, although a WADL, like a WSDL, can be edited as needed—or even written from scratch. The syntax for getting the WADL differs slightly among JAX-RS implementations. In the Jersey implementation, the document is available as <code>application.wadl</code>. E.g, if the resource URI is <code>localhost/resourceA/</code> then the Jersey generated WADL can be accessed at <code>localhost/resourceA/application.wadl</code>. If it were CXF, then <code>localhost/resourceA?wadl</code>.</li>
  <li>The WADL document is language-neutral but its use is confined basically to the Java world. Other languages and frameworks have their counterparts; for example, Rails has the ActiveResource construct that lets a client program interact with a service but without dealing explicitly with documents in XML or JSON.</li>
  <li>The trade-off in using a tool such as wadl2java to avoid dealing explicitly with XML or similar payloads:
    <ul>
      <li>The upside is avoiding an XML or comparable parse.</li>
      <li>The downside is learning yet another API.</li>
    </ul>
  </li>
</ul>

<h1 id="restful-frameworks">RESTful Frameworks</h1>

<p>Java Web Service APIs include:</p>

<ul>
  <li>HttpServlet and its equivalents (e.g., JSP scripts)</li>
  <li>JAX-RS (Java API for RESTful services) - Jersey is the reference implementation</li>
  <li>Restlet, which is similar in style to JAX-RS</li>
  <li>JAX-WS (Java API for Web Services) which is a relatively low-level API. Metro is the reference implementation.</li>
</ul>

<h2 id="servlet-based-web-services">Servlet based Web Services</h2>

<p>JAX-RS and Restlet are roughly peers (arguably). Both of these APIs emphasize the use of Java annotations to describe the RESTful access to a particular CRUD operation. Each framework supports the automated generation of XML and JSON payloads. When published with a web server such as Tomcat or Jetty, JAX-RS and Restlet provide servlet interceptors that mediate between the client and the web service.</p>

<h2 id="jax-rs-api">JAX-RS API</h2>

<p>JAX-RS is a framework that focuses on applying Java annotations to plain Java objects. </p>

<ul>
  <li>It has annotations to bind specific URI patterns and HTTP operations to individual methods of your Java class. (@Path and @GET, etc.,)</li>
  <li>It has parameter injection annotations so that you can easily pull in information from the HTTP request. (@PathParam)</li>
  <li>It has message body readers and writers that allow you to decouple data format marshalling and unmarshalling from your Java data objects. </li>
  <li>It has exception mappers that can map an application-thrown exception to an HTTP response code and message.</li>
</ul>

<p>In vanilla JAX-RS, services can either be singletons or per-request objects. </p>

<ul>
  <li>A singleton means that one and only one Java object services HTTP requests. </li>
  <li>Per-request means that a Java object is created to process each incoming request and is thrown away at the end of that request. Per-request also implies statelessness, as no service state is held between requests.</li>
</ul>

<p>In JAX-RS, any non-JAX-RS-annotated parameter is considered to be a representation of the HTTP input request’s message body. Only one Java method parameter can represent the HTTP message
body. This means any other parameters must be annotated with one of the JAX-RS annotations.</p>

<p>In JAX-RS, you are also allowed to define a Java interface that contains all your JAX-RS annotation metadata instead of applying all your annotations to your implementation class. This approach isolates the business logic from all the JAX-RS annotations. The JAX-RS specification also allows you to define class and interface hierarchies if you so desire.</p>

<ul>
  <li>Implementations include Jersey (RI), JBoss RESTEasy, Apache Wink and Apache CXF, Apache Axis2???</li>
  <li>relies upon Java annotations to advertise the RESTful role that a class and its encapsulated methods play.</li>
  <li>JAX-RS has APIs for programming RESTful services and clients against such services; the two APIs can be used independently.</li>
  <li>JAX-RS uses Java annotations heavily but there are no annotations to express hyperlinks</li>
</ul>

<h3 id="path">@Path</h3>

<p>The <code>@javax.ws.rs.Path</code> annotation in JAX-RS is used to define a URI matching pattern for incoming HTTP requests. It can be placed upon a class or on one or more Java methods. For a Java class to be eligible to receive any HTTP requests, the class must  be annotated with at least the <code>@Path("/")</code> expression. These types of classes are called JAX-RS root resources.</p>

<p><code>@Path</code> can have complex matching expressions so that you can be more specific on what requests get bound to which incoming URIs. <code>@Path</code> can also be used on a Java method as sort of an object factory for subresources of your application.</p>

<p>To receive a request, a Java method must have at least an HTTP method annotation like <code>@javax.ws.rs.GET</code> applied to it. This method may or may not have an <code>@Path</code> annotation on it, though. </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>@Path at class level</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;/orders&quot;</span><span class="o">)</span>
</span><span class="line"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderResource</span> <span class="o">{</span>
</span><span class="line">    <span class="nd">@GET</span>
</span><span class="line">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getUnpaidOrders</span><span class="o">()</span> <span class="o">{</span>
</span><span class="line">       <span class="o">...</span>
</span><span class="line">    <span class="o">}</span>
</span><span class="line"><span class="o">}</span>
</span><span class="line">
</span><span class="line"><span class="n">Relative</span> <span class="nl">URI:</span> <span class="o">/</span><span class="n">orders</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>@Path at class and method level</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;/orders&quot;</span><span class="o">)</span>
</span><span class="line"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderResource</span> <span class="o">{</span>
</span><span class="line">    <span class="nd">@GET</span>
</span><span class="line">    <span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;unpaid&quot;</span><span class="o">)</span>
</span><span class="line">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getUnpaidOrders</span><span class="o">()</span> <span class="o">{</span>
</span><span class="line">       <span class="o">...</span>
</span><span class="line">    <span class="o">}</span>
</span><span class="line"><span class="o">}</span>
</span><span class="line"><span class="n">Relative</span> <span class="nl">URI:</span> <span class="o">/</span><span class="n">orders</span><span class="o">/</span><span class="n">unpaid</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>@Path with wildcard expressions</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="nd">@GET</span>
</span><span class="line"><span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;customers/{firstname}-{lastname}&quot;</span><span class="o">)</span>
</span><span class="line"><span class="kd">public</span> <span class="n">String</span> <span class="nf">getCustomer</span><span class="o">(</span><span class="nd">@PathParam</span><span class="o">(</span><span class="s">&quot;firstname&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">first</span><span class="o">,</span> <span class="nd">@PathParam</span><span class="o">(</span><span class="s">&quot;lastname&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">   <span class="o">...</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>@Path with regular expressions</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="n">Regular</span> <span class="n">expressions</span>
</span><span class="line"><span class="nd">@GET</span>
</span><span class="line"><span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;{id : \\d+}&quot;</span><span class="o">)</span>
</span><span class="line"><span class="kd">public</span> <span class="n">String</span> <span class="nf">getCustomer</span><span class="o">(</span><span class="nd">@PathParam</span><span class="o">(</span><span class="s">&quot;id&quot;</span><span class="o">)</span> <span class="kt">int</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">   <span class="o">...</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h4 id="matrix-parameters">Matrix Parameters</h4>

<p>E.g., <code>http://example.cars.com/mercedes/e55;color=black/2006</code></p>

<p>Matrix parameters are name-value pairs associated with a URI. These are different from query parameters. These are more like adjectives and are not included to uniquely identify a resource.</p>

<h5 id="subresource-locators">Subresource Locators</h5>

<p>Subresource locators are Java methods annotated with <code>@Path</code>, but with no HTTP method annotation, like <code>@GET</code>, applied to them. This type of method returns an object that is, itself, a JAX-RS annotated service that knows how to dispatch the remainder of the request.</p>

<h4 id="jax-rs-injections---request-header-related-annotations">JAX-RS Injections - Request header related annotations</h4>

<p>When the JAX-RS provider receives an HTTP request, it finds a Java method that will service this request. If the Java method has parameters that are annotated with any of these injection annotations, it will extract information from the HTTP request and pass it as a parameter when it invokes the method.</p>

<ol>
  <li><code>@PathParam</code> - to extract values from URI template parameters.
    <ul>
      <li><code>@MatrixParam</code> - to extract values from a URI’s matrix parameters.</li>
      <li><code>@QueryParam</code> - to extract values from a URI’s query parameters.</li>
      <li><code>@FormParam</code> - to extract values from posted form data.</li>
      <li><code>@HeaderParam</code> - to extract values from HTTP request headers.</li>
      <li><code>@CookieParam</code> - to extract values from HTTP cookies set by the client.</li>
      <li><code>@Context</code> - This class is the all-purpose injection annotation. It allows you to inject various helper and informational objects that are provided by the JAX-RS API.</li>
    </ul>
  </li>
</ol>

<h4 id="http-content-negotiation-in-jax-rs">HTTP Content Negotiation in JAX-RS</h4>

<p>There are multiple ways to implement the content negotiation discussed above:</p>

<ul>
  <li>Each method is responsible for returning response in a specific format.</li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="nd">@Produces</span><span class="o">({</span><span class="s">&quot;application/xml&quot;</span><span class="o">)</span>
</span><span class="line"><span class="kd">public</span> <span class="n">Customer</span> <span class="nf">getCustomerXml</span><span class="o">(</span><span class="nd">@PathParam</span><span class="o">(</span><span class="s">&quot;id&quot;</span><span class="o">)</span> <span class="kt">int</span> <span class="n">id</span><span class="o">)</span> <span class="o">{...}</span>
</span><span class="line">
</span><span class="line"><span class="nd">@Produces</span><span class="o">({</span><span class="s">&quot;application/json&quot;</span><span class="o">})</span>
</span><span class="line"><span class="kd">public</span> <span class="n">Customer</span> <span class="nf">getCustomerJson</span><span class="o">(</span><span class="nd">@PathParam</span><span class="o">(</span><span class="s">&quot;id&quot;</span><span class="o">)</span> <span class="kt">int</span> <span class="n">id</span><span class="o">)</span> <span class="o">{...}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<ul>
  <li>A single method could be responsible to return responses in either xml or json format. Return type is a Java object which is annotated with JAXB annotations. Based on the information in ‘Accept’, either XML or JSON is returned.</li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="nd">@Produces</span><span class="o">({</span><span class="s">&quot;application/xml&quot;</span><span class="o">,</span> <span class="s">&quot;application/json&quot;</span><span class="o">})</span>
</span><span class="line"><span class="kd">public</span> <span class="n">Customer</span> <span class="nf">getCustomer</span><span class="o">(</span><span class="nd">@PathParam</span><span class="o">(</span><span class="s">&quot;id&quot;</span><span class="o">)</span> <span class="kt">int</span> <span class="n">id</span><span class="o">)</span> <span class="o">{...}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<ul>
  <li>For complex negotiations, where multiple combinations of data formats, languages and encodings need to be dealt, JAX-RS provides classes like HttpHeaders, Variant, VariantBuilder, etc. which could be leveraged.</li>
  <li>Negotiation by URI patterns: Some client like Firefox browser do not support conneg. In such cases, embed conneg information in URI. E.g., </li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="o">/</span><span class="n">customers</span><span class="o">/</span><span class="n">en</span><span class="o">-</span><span class="n">US</span><span class="o">/</span><span class="n">xml</span><span class="o">/</span><span class="mi">3323</span>
</span><span class="line"><span class="o">/</span><span class="n">customers</span><span class="o">/</span><span class="mi">3323</span><span class="o">.</span><span class="na">xml</span><span class="o">.</span><span class="na">en</span><span class="o">-</span><span class="n">US</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<ul>
  <li>Custom media types: Example: <code>application/vnd.rht.customers+xml</code>. The convention is to combine a vnd prefix, the name of your new format, and a concrete media type suffix  delimited by the “+” character.</li>
</ul>

<h3 id="request--response-management">Request &amp; Response Management</h3>

<ul>
  <li><strong>Service Controller</strong> 
    <ul>
      <li>Receives requests, evaluate and route requests to procedures (i.e., class methods, request handlers), which implement the desired service behaviors.</li>
      <li>The rules that define which handlers should be invoked for different requests are provided through annotations known collectively as <strong><em>Routing Expressions</em></strong>.</li>
      <li>When a web server receives a request, the framework (like JAX-RS) selects and invokes handlers by evaluating various aspects of the request against these expressions.</li>
      <li><strong>Routing Expression Types</strong>
        <ul>
          <li>URI templates - e.g., <code>http://www.acmeCorp.org/products/{ProductId}</code>. </li>
          <li>Request Method Designators - e.g., <code>@GET</code>, <code>@POST</code>. These handlers could use the same URI template, but different request methods (e.g., <code>GET</code>, <code>PUT</code>, <code>DELETE</code>) to trigger each handler.</li>
          <li>Media Type Negotiation - e.g., JSON, XML. For the same URI and request method, different clients may want the request and/or responses in different media format. </li>
        </ul>
      </li>
      <li>
        <p>This pattern also makes it easy to leverage data-binding technologies that automatically deserialize requests and serialize responses. The methods on Service Controllers can be annotated with binding instructions to tell the framework how requests and responses should be handled. The default options include XML and JSON, but developers may also tell the framework to use a custom approach.</p>
      </li>
      <li>
        <p>JAX-RS Service Interface Classes</p>

        <p>define request handlers and routing expressions, but don’t have any implementation. Service Controller implementing these interfaces must implement these methods but can omit the routing expressions. Though the service controller classes can omit the annotations, JAX-RS specification recommendeds to always repeat annotations instead of relying on annotation inheritance. </p>
      </li>
    </ul>
  </li>
  <li><strong>Request Mapper</strong>
    <ul>
      <li>decouple domain logic from the syntactic structure of service request</li>
    </ul>
  </li>
  <li><strong>Response Mapper</strong>
    <ul>
      <li>decouple clients from internal representation of domain objects</li>
    </ul>
  </li>
</ul>

<h2 id="restlet">RESTlet</h2>

<ul>
  <li>The Restlet web framework supports RESTful web services, and the API is similar to JAX-RS; indeed, a Restlet application can use JAX-RS annotations such as @Produces instead of or in addition to Restlet annotations.</li>
  <li>A Restlet web service has three main parts, each of which consists of one or more Java classes:
    <ul>
      <li>A programmer-defined class, in this example AdagesApplication, extends the Restlet Application class. The purpose of the extended class is to set up a routing table, which maps request URIs to resources. The resources are named or anonymous Java classes; the current example illustrates both approaches. The spirit of Restlet development is to have very simple resource classes.</li>
      <li>There are arbitrarily many resource classes, any mix of named or anonymous. In best practices, a resource implementation supports a very small number of operations on the resource—in the current example, only one operation per resource. For example, the adages2 service has seven resources: six of these are named classes that extend the Restlet ServerResource class and the other is an anonymous class that implements the Restlet interface. The named classes are CreateResource, the target of a POST request; UpdateResource, the target of a PUT request; XmlAllResource, the target of a GET request for all Adages in XML; JsonAllResource, the target of a GET request for all Adages in JSON; XmlOneResource, the target of a GET request for a specified Adage; and so on.</li>
      <li>The backend POJO classes are Adage and Adages, each slightly redefined from the earlier adages web service.</li>
    </ul>
  </li>
  <li>These APIs also mimic the routing idioms that have become so popular because of frameworks such as Rails and Sinatra.</li>
</ul>

<h2 id="jax-ws-api">JAX-WS API</h2>

<ul>
  <li>JAW-WS is an API used mostly for SOAP-based services but can be used for REST-style services as well. In the latter case, the <code>@WebServiceProvider</code> annotation is central. The <code>@WebServiceProvider</code> interface is sufficiently flexible that it can be used to annotate either a SOAP-based or a REST-style service; however, JAX-WS provides a related but higher level annotation, <code>@WebService</code>, for SOAP-based services. The <code>@WebServiceProvider</code> API is deliberately lower level than the servlet, JAX-RS, and Restlet APIs, and the <code>@WebServiceProvider</code> API is targeted at XML-based services. For programmers who need a low-level API, Java supports the <code>@WebServiceProvider</code> option. JAX-RS, Restlet, and <code>@WebServiceProvider</code> have both service-side and client-side APIs that can be used independently of one another. For example, a Restlet client could make calls against a JAX-RS service or vice versa.</li>
  <li>JAX-RS and Restlet are state-of-the-art, high-level APIs for developing RESTful services; by contrast, the JAX-WS API for RESTful services is low-level. Nonetheless, JAX-WS support for RESTful services deserves a look.</li>
</ul>

<p>Following are the JAX-WS Implementations</p>

<h3 id="metro">Metro</h3>

<ul>
  <li><a href="http://www.oracle.com/technetwork/java/index-jsp-137051.html">Metro</a> is the reference implementation of JAX-WS API and is part of the GlassFish project. Although JAX-WS technically belongs to enterprise rather than core Java, the core Java JDK (1.6 or greater) includes enough of the Metro distribution to compile and publish RESTful and SOAP-based services. </li>
  <li>integrated web services stack provided by Oracle Java. </li>
  <li>Metro stack consisting of JAX-WS, JAXB, and WSIT (Web Services Interoperability Technologies), enable you to create and deploy secure, reliable, transactional, interoperable Web services and clients.</li>
</ul>

<h3 id="apache-cxf">Apache CXF</h3>

<ul>
  <li>Apache CXF is an open source services framework. CXF helps you build and develop services using frontend programming APIs, like JAX-WS and JAX-RS. These services can speak a variety of protocols such as SOAP, XML/HTTP, RESTful HTTP, or CORBA and work over a variety of transports such as HTTP, JMS or JBI.</li>
  <li>Features: Generating WSDL from Java and vice-versa, Spring support, OSGi support, WS-* support, proprietary Aegis Databinding (similar to JAXB), RESTful services</li>
</ul>

<h3 id="apache-axis2">Apache Axis2</h3>

<ul>
  <li>a Web Services / SOAP / WSDL engine</li>
  <li>Features: proprietary ADB Databinding (faster than CXF)</li>
</ul>

<h1 id="open-questions">Open Questions</h1>

<ul>
  <li>There are no annotations in JAX-RS to express hyperlinks. You have to design those yourself. what does that mean?</li>
  <li>JAX-RS defines: transitional links which describe optional next actions and structural links which provide optional detailed information. Transitional links tell a client where to proceed next, while structural links help to shorten representations in order to avoid aggregate data. Details are replaced by links. Transitional links have some support in JAX-RS 2.0, but structural links are not supported due to their level of complexity.????</li>
  <li>URL opacity - http://www.zapthink.com/2012/10/08/the-power-of-opacity-in-rest/ </li>
  <li>Routing idiom JAX-RS API implements mimic from Rails???</li>
  <li>REST service - Proxy XJC
    <ul>
      <li>WADL &amp; XJC</li>
      <li>Handling Breaking changes - xsd or wsdl changes</li>
      <li>Authentication - WS-Policy, WS-Security</li>
      <li>Distribution transaction in REST?</li>
      <li>REST fault messages?</li>
      <li>Things to try using JAX-RS
        <ul>
          <li>HEAD, OPTIONS</li>
          <li>Asynchronous service</li>
          <li>how to time out a client</li>
          <li>how to restrict number of clients accessing the service</li>
          <li>how to implement pagination - Linking Services</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h1 id="references">References</h1>

<ul>
  <li>Books
    <ul>
      <li>Building Web Services with Java (2E)</li>
      <li>Java Web Services - Up &amp; Running - O’Reilly 2013</li>
      <li>RESTful Java with JAX-RS -2010</li>
      <li>RESTful Web APIs - O’Reilly 2013</li>
      <li>Web Services Testing with soapUI (2012)</li>
    </ul>
  </li>
</ul>

  
    <footer>
      
      
        <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://fizalihsan.github.io/technology/rest-services.html" data-via="fizalihsan" data-counturl="http://fizalihsan.github.io/technology/rest-services.html" >Tweet</a>
  
  
  
</div>

      
    </footer>
  
</article>

</div>

<aside class="sidebar">
  
    <section>

	<br/><br/>
	<ul>
		<h2>Technical</h2>

		<li>
			<h3>Architecture</h3>
			<a href="/technology/architecture.html">Overview</a>  |  <a href="/technology/coding-principles.html">Coding Principles</a>  |  <a href="/technology/concurrency-parallelism.html">Concurrency & Parallelism</a>  |  <a href="/technology/design-principles.html">Design Principles</a>  |  <a href="/technology/logging-and-monitoring.html">Logging &amp; Monitoring</a>  |  <a href="/technology/patterns.html">Patterns</a>  |  <a href="/technology/sdlc.html">SDLC</a>  |  <a href="/technology/security.html">Security</a>  |  <a href="/technology/transaction.html">Transactions</a>
		</li>
		
		<li>
			<h3>BigData</h3>
			<a href="/technology/bigdata.html">Concepts</a>  |  <a href="/technology/elasticsearch.html">ElasticSearch</a>  |  <a href="/technology/nosql.html">NoSQL</a>
		</li>

		<li>
			<h3>Database</h3>
			<a href="/technology/rdbms.html">Concepts</a>  |  <a href="/technology/db-design.html">Design</a>  |  <a href="/technology/db-performance.html">Performance</a>  |  <a href="/technology/rdbms-products.html">RDBMS Products</a>
		</li>

		<li>
			<h3>Functional Programming</h3>
			<a href="/technology/functionalprogramming.html">Concepts</a>  |  <a href="/technology/groovy.html">Groovy</a>  |  <a href="/technology/scala.html">Scala</a>
		</li>

		<li>
			<h3>Java</h3>
			<a href="/technology/java.html">Core Concepts</a>  |  <a href="/technology/java-collections.html">Collections</a>  |  <a href="/technology/java-concurrency.html">Concurrency</a>  |  <a href="/technology/java-database.html">Database</a>  |  <a href="/technology/java-jmx.html">JMX</a>  |  <a href="/technology/java-io.html">JNDI</a>  |  <a href="/technology/java-io.html">I/O</a>  |  <a href="/technology/java-performance.html">Performance</a>  |  <a href="/technology/spring.html">Spring</a>  |  <a href="/technology/java-testing.html">Testing</a>  |  <a href="/technology/java-web.html">Web</a>  |  <a href="/technology/java-newsletters.html">Java Specialist Newsletters</a>
		</li>

		<li>
			<h3>SOA</h3>
			<a href="/technology/soa.html">Concepts</a>  |  <a href="/technology/messaging.html">Messaging</a>  |  <a href="/technology/webservices.html">Web Services</a>   |  <a href="/technology/rest-services.html">REST Services</a>  |  <a href="/technology/soap-services.html">SOAP Services</a> |  <a href="/technology/xml.html">XML</a>
		</li>

		<li>
			<h3>Web Programming</h3>
			<a href="/technology/webconcepts.html">Concepts</a> | <a href="/technology/js-ecosystem.html">JS Ecosystem</a>
		</li>

		<li>
			<h3>General Concepts</h3>
			<a href="/technology/datastructures.html">Data Structures</a>  |  <a href="/technology/oops.html">OOPS</a>  |  <a href="/technology/os.html">Operating Systems</a>  |  <a href="/technology/vcs.html">VCS</a>  |  <a href="/technology/coding_bibliography.html">Coding Bibliography</a>
		</li>

		<h2>Non-Techninal</h2>

		<li>
			<h3>Data Science</h3>

			<a href="/datascience/datascience.html">Overview</a>  |  <a href="/datascience/statistics.html">Statistics</a>  |  <a href="/datascience/r.html">R</a>
		</li>

		<li>
			<h3>Domain Knowledge</h3>
			<a href="/domain/retirement.html">Retirement</a>
		</li>

		<li>
			<h3>Soft Skills</h3>
			<a href="/softskills/presentation.html">Presentation</a>  |  <a href="/softskills/productivity.html">Productivity</a>  |  <a href="/softskills/written.html">Written Communication</a>
		</li>
	</ul>

  <!-- <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
  </ul> &#8211;>
  <!-- <ul>
    <li><a href="/datascience/statistics.html">Statistics</a></li>
    <li><a href="/datascience/r.html">R Programming</a></li>
  </ul> &#8211;>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/fizalihsan">@fizalihsan</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'fizalihsan',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Mohamed Fizal Ihsan Mohamed -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
