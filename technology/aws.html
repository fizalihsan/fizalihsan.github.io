
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Amazon AWS - KnowledgeShop</title>
  <meta name="author" content="Mohamed Fizal Ihsan Mohamed">


<meta name="description" content="Amazon AWS AWS Fundamentals Storage and Content Delivery Service Storage Basics S3 (Simple Storage Service) S3 Overview S3 Buckets S3 Objects S3 &hellip;">
<meta name="keywords" content="big data, data science, mongodb, nosql, R, statistics">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://fizalihsan.github.io/technology/aws.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <!-- Below custom CSS is for table border styling -->
  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />

  <link href="" rel="alternate" title="KnowledgeShop" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">


<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
jax: ["input/TeX", "output/HTML-CSS"],
tex2jax: {
  inlineMath: [ ['$', '$'], ["\\(","\\)"] ],
  displayMath: [ ['$$', '$$'], ["\\[","\\]"] ],
  processEscapes: true,
  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
},
messageStyle: "none",
"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript" /></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-58187831-1']);
    _gaq.push(['_setDomainName','github.io']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">KnowledgeShop</a></h1>
  
    <h2>Learn & Share</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:fizalihsan.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  


<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>


</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">Amazon AWS</h1>
    
  </header>
  
  <ul id="markdown-toc">
  <li><a href="#aws-fundamentals">AWS Fundamentals</a></li>
  <li><a href="#storage-and-content-delivery-service">Storage and Content Delivery Service</a>    <ul>
      <li><a href="#storage-basics">Storage Basics</a></li>
      <li><a href="#s3-simple-storage-service">S3 (Simple Storage Service)</a>        <ul>
          <li><a href="#s3-overview">S3 Overview</a></li>
          <li><a href="#s3-buckets">S3 Buckets</a></li>
          <li><a href="#s3-objects">S3 Objects</a></li>
          <li><a href="#s3-durability--availability">S3 Durability &amp; Availability</a></li>
          <li><a href="#s3-storage-classes">S3 Storage Classes</a></li>
          <li><a href="#s3-data-protection">S3 Data Protection</a></li>
          <li><a href="#advanced-topics">Advanced Topics</a></li>
        </ul>
      </li>
      <li><a href="#amazon-glacier">Amazon Glacier</a></li>
      <li><a href="#amazon-elastic-block-store-ebs">Amazon Elastic Block Store (EBS)</a>        <ul>
          <li><a href="#ebs-volume-types">EBS Volume Types</a></li>
          <li><a href="#ebs-snapshots">EBS Snapshots</a></li>
        </ul>
      </li>
      <li><a href="#aws-storage-gateway">AWS Storage Gateway</a></li>
      <li><a href="#amazon-cloudfront">Amazon CloudFront</a></li>
    </ul>
  </li>
  <li><a href="#compute-and-network-services">Compute and Network Services</a>    <ul>
      <li><a href="#ec2">EC2</a>        <ul>
          <li><a href="#instance-types">Instance Types</a></li>
          <li><a href="#securing-an-instance">Securing an Instance</a></li>
          <li><a href="#lifecycle-of-instances">Lifecycle of Instances</a></li>
          <li><a href="#instance-pricing-options">Instance Pricing Options</a></li>
          <li><a href="#tenancy-options">Tenancy options</a></li>
        </ul>
      </li>
      <li><a href="#aws-lambda">AWS Lambda</a></li>
      <li><a href="#auto-scaling">Auto Scaling</a>        <ul>
          <li><a href="#auto-scaling-plans">Auto Scaling Plans</a></li>
          <li><a href="#auto-scaling-components">Auto Scaling Components</a></li>
        </ul>
      </li>
      <li><a href="#elastic-load-balancing-elb">Elastic Load Balancing (ELB)</a>        <ul>
          <li><a href="#types-of-load-balancers">Types of Load Balancers</a>            <ul>
              <li><a href="#internet-facing-load-balancers">Internet-Facing Load Balancers</a></li>
              <li><a href="#internal-load-balancers">Internal Load Balancers</a></li>
              <li><a href="#https-load-balancers">HTTPS Load Balancers</a></li>
              <li><a href="#listeners">Listeners</a></li>
            </ul>
          </li>
          <li><a href="#elb-configurations">ELB Configurations</a>            <ul>
              <li><a href="#idle-connection-timeout">Idle Connection Timeout</a></li>
              <li><a href="#cross-zone-load-balancing">Cross-Zone Load Balancing</a></li>
              <li><a href="#connection-draining">Connection Draining</a></li>
              <li><a href="#proxy-protocol">Proxy Protocol</a></li>
              <li><a href="#sticky-sessions">Sticky Sessions</a></li>
              <li><a href="#health-checks">Health Checks</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#aws-elastic-beanstalk">AWS Elastic Beanstalk</a></li>
      <li><a href="#aws-virtual-private-cloud-vpc">AWS Virtual Private Cloud (VPC)</a>        <ul>
          <li><a href="#subnets">Subnets</a></li>
          <li><a href="#route-tables">Route Tables</a></li>
          <li><a href="#igw-internet-gateways">IGW (Internet Gateways)</a></li>
          <li><a href="#dhcp">DHCP</a></li>
          <li><a href="#eips-elastic-ip-addresses">EIPs (Elastic IP Addresses)</a></li>
          <li><a href="#enis-elastic-network-interfaces">ENIs (Elastic Network Interfaces)</a></li>
          <li><a href="#endpoints">Endpoints</a></li>
          <li><a href="#peering">Peering</a></li>
          <li><a href="#security-groups">Security Groups</a></li>
          <li><a href="#network-acls-access-control-lists">Network ACLs (Access Control Lists)</a></li>
          <li><a href="#nat-instances-network-address-translation">NAT Instances (Network Address Translation)</a></li>
          <li><a href="#nat-gateways">NAT Gateways</a></li>
          <li><a href="#vpgs-cgws-and-vpns">VPGs, CGWs and VPNs</a></li>
        </ul>
      </li>
      <li><a href="#aws-direct-connect">AWS Direct Connect</a></li>
      <li><a href="#amazon-route-53">Amazon Route 53</a></li>
    </ul>
  </li>
  <li><a href="#database-service">Database service</a>    <ul>
      <li><a href="#amazon-dynamodb">Amazon DynamoDB</a></li>
      <li><a href="#amazon-redshift">Amazon Redshift</a></li>
      <li><a href="#amazon-elasticcache">Amazon ElasticCache</a></li>
    </ul>
  </li>
  <li><a href="#management-tools">Management Tools</a>    <ul>
      <li><a href="#amazon-cloudwatch">Amazon CloudWatch</a></li>
      <li><a href="#aws-cloudformation">AWS CloudFormation</a></li>
      <li><a href="#aws-cloudtrail">AWS CloudTrail</a></li>
      <li><a href="#aws-config">AWS Config</a></li>
    </ul>
  </li>
  <li><a href="#security-and-identity">Security and Identity</a>    <ul>
      <li><a href="#aws-identity-and-access-manager-iam">AWS Identity and Access Manager (IAM)</a></li>
      <li><a href="#aws-key-management-service-kms">AWS Key Management Service (KMS)</a></li>
      <li><a href="#aws-directory-service">AWS Directory Service</a></li>
      <li><a href="#aws-certificate-manager">AWS Certificate Manager</a></li>
      <li><a href="#aws-web-application-firewall-waf">AWS Web Application Firewall (WAF)</a></li>
    </ul>
  </li>
  <li><a href="#application-services">Application Services</a>    <ul>
      <li><a href="#amazon-api-gateway">Amazon API Gateway</a></li>
      <li><a href="#amazon-elastic-transcoder">Amazon Elastic Transcoder</a></li>
      <li><a href="#amazon-simple-notification-service-sns">Amazon Simple Notification Service (SNS)</a></li>
      <li><a href="#amazon-simple-email-service-ses">Amazon Simple Email Service (SES)</a></li>
      <li><a href="#amazon-simple-workflow-service-swf">Amazon Simple Workflow Service (SWF)</a></li>
      <li><a href="#amazon-simple-queue-service-sqs">Amazon Simple Queue Service (SQS)</a></li>
    </ul>
  </li>
  <li><a href="#terminology">Terminology</a></li>
  <li><a href="#references">References</a></li>
</ul>

<p><img src="/technology/aws-services.png" /></p>

<h1 id="aws-fundamentals">AWS Fundamentals</h1>

<ul>
  <li><strong>Cloud Computing - Deployment Models</strong>
    <ul>
      <li><em>All-in cloud-based application</em> is fully deployed in the cloud, with all components of the app running in the cloud</li>
      <li><em>Hybrid deployment</em> is a common approach taken by many enterprises that connects infrastructure and apps between cloud-based resources and existing resources, typically in an existing data center.</li>
    </ul>
  </li>
</ul>

<p><img class="right" src="/technology/aws-regions-availability-zones.jpg" /></p>

<ul>
  <li><strong>Global Infrastructure</strong>
    <ul>
      <li>Each <em>region</em> is a separate geographic area.</li>
      <li>Each region has multiple, isolated locations known as <em>Availability Zones</em>.</li>
      <li>Resources aren’t replicated across regions unless organizations choose to do so.</li>
      <li>For fault tolerance and stability, each region is completely isolated from each other.</li>
      <li>Each Availability Zone is also isolated, but they are connected through low-latency links.</li>
      <li>Each Availability Zone is located in lower-risk flood plains using a discrete UPS and on-site backup generators. They are each fed via different grids from independent utilities to reduce single points of failures further.</li>
      <li>Organizations retain complete control and ownership over the region in which their data is physically located, allowed them to meet regional compliance and data residency requirements.</li>
      <li>www.cloudping.info - to estimate the latency from your browser to each AWS region</li>
    </ul>
  </li>
  <li><strong>Accessing the platform</strong>
    <ul>
      <li>via Amazon console</li>
      <li>via CLI</li>
      <li>via SDK</li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="storage-and-content-delivery-service">Storage and Content Delivery Service</h1>

<h2 id="storage-basics">Storage Basics</h2>

<ul>
  <li><strong>Traditional Storage Types</strong>
    <ul>
      <li><strong><em>Block storage</em></strong>:
        <ul>
          <li>operates at low-level - the raw storage device level - and manages data as a set of numbered, fixed-size blocks</li>
          <li>accessed over a network in the form of a <em>Storage Area Network (SAN)</em> using protocols such as iSCSI or Fiber channel</li>
          <li>very closely associated with the server and the OS</li>
          <li>E.g., Amazon Elastic Block Storage (EBS)</li>
        </ul>
      </li>
      <li><strong><em>File storage</em></strong>:
        <ul>
          <li>operates at higher-level - the operating system level - and manages data as a named hierarchy of files and folders</li>
          <li>accessed over a network as a <em>Network Attached Storage (NAS)</em> file server or “filer” using protocols such as <em>Common Internet File System (CIFS)</em> or <em>Network File System (NFS)</em></li>
          <li>very closely associated with the server and the OS</li>
          <li>E.g., AWS Elastic File System (EFS)</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Cloud Storage
    <ul>
      <li><strong><em>Object storage</em></strong>
        <ul>
          <li>Independent of a server and is accessed over the Internet.</li>
          <li>Instead of managing data as blocks or files using SCSI, CIFS or NFS protocols, data is managed as objects using REST API</li>
          <li>E.g., Amazon S3</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="s3-simple-storage-service">S3 (Simple Storage Service)</h2>

<h3 id="s3-overview">S3 Overview</h3>

<ul>
  <li>S3 is a highly-durable and highly-scalable cloud object store</li>
  <li>By default, every object is world-readable</li>
  <li>Scalability: S3 automatically partitions buckets to support very high request rates and simultaneous access by many clients</li>
</ul>

<h3 id="s3-buckets">S3 Buckets</h3>

<ul>
  <li>Buckets are a simple flat folder with no file system hierarchy.</li>
  <li>Limitations
    <ul>
      <li>It cannot have a sub-bucket within a bucket.</li>
      <li>Bucket name: max 63 lowercase letters, numbers, hyphens and periods</li>
      <li>Each bucket can hold an unlimited number of objects.</li>
      <li>Max 100 buckets per account.</li>
    </ul>
  </li>
</ul>

<h3 id="s3-objects">S3 Objects</h3>

<ul>
  <li>Objects reside in containers called <em>buckets</em></li>
  <li>An object can virtually store any kind of data in any formats</li>
  <li>Max object size = 5TB</li>
  <li>Each object has
    <ul>
      <li>data (the file itself)</li>
      <li>metadata - set of name/value pairs
        <ul>
          <li><em>System metadata</em> - created and used by Amazon S3. e.g., last modified date, MD5, object size, etc</li>
          <li><em>User metadata</em> - optional</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Object Key</strong>
    <ul>
      <li>Each object is identified by a unique <em>key</em> (similar to a file name).</li>
      <li>Combination of <code>bucket + key + optional version ID</code> uniquely identifies an S3 object</li>
      <li>Limitations
        <ul>
          <li>Max 1024 bytes of UTF-8 characters (including slashes, backslashes, dots, dashes)</li>
          <li>Keys must be unique within a single bucket</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>You cannot incrementally update portions of the object as you would with a file</li>
  <li><strong>ARNs (Amazon Resource Name)</strong> uniquely identify AWS resources. (http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html)
    <ul>
      <li>Object in an Amazon S3 bucket <code>arn:aws:s3:::my_bucket/exampleobject.png</code></li>
      <li>General formats
        <ul>
          <li><code>arn:partition:service:region:account-id:resource</code></li>
          <li><code>arn:partition:service:region:account-id:resourcetype/resource</code></li>
          <li><code>arn:partition:service:region:account-id:resourcetype:resource</code></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="s3-durability--availability">S3 Durability &amp; Availability</h3>

<ul>
  <li><em>Durability</em>
    <ul>
      <li>answers the question <em>will my data still be there in the future?</em></li>
      <li>S3 provides 99.999999999% durability - meaning for 10K objects stored, you can on average expect to incur a loss of 1 object every 10,000,000 years</li>
      <li>Durability achieved by
        <ul>
          <li>automatically storing data redundantly on multiple devices in multiple facilities within a region.</li>
          <li>design to sustain concurrent loss of data in 2 facilities without loss of user data</li>
          <li>highly durable infrastructure</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><em>Availability</em>
    <ul>
      <li>answers the question <em>can I access my data right now?</em></li>
      <li>S3 provides 99.99% availability</li>
      <li>S3 is an <em>eventually consistent</em> system
        <ul>
          <li>S3 offers <em>read-after-write</em> consistency for <code>PUT</code>s to new objects. <em>Read-after-write</em> guarantees immediate visibility of new data to all clients.</li>
          <li><code>PUT</code>s to existing objects and <code>DELETE</code>s are offered at <em>eventual consistency</em></li>
          <li>Updates to a single key are atomic - for eventual-consistency reads, you will get the new data or the old data, but never an inconsistent mix of data.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="s3-storage-classes">S3 Storage Classes</h3>

<ul>
  <li><em>Hot</em> - frequently accessed data</li>
  <li><em>Warm</em> - less frequently accessed data as it ages</li>
  <li><em>Cold</em> - long-term backup or archive data before eventual deletion</li>
</ul>

<table>
  <thead>
    <tr>
      <th> </th>
      <th><strong>S3 Standard</strong></th>
      <th><strong>S3 Standard - Infrequent Access (IA)</strong></th>
      <th><strong>Reduced Redundancy Storage (RRS)</strong></th>
      <th><strong>Amazon Glacier</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Well-suited for</td>
      <td>short-term or long-term storage of frequently accessed data</td>
      <td>long-lived, less frequently accessed data that is stored for longer than 30 days</td>
      <td>derived data that can be easily reproduced (e.g., thumbnails)</td>
      <td>data that does not require real-time access, such as archives and long-term backups,<br />where a retrieval time of several hours is suitable</td>
    </tr>
    <tr>
      <td>Offers</td>
      <td>high durability (99.999999999%),<br />high availability,<br />high performance,<br />first low-byte latency,<br />high throughput</td>
      <td>same durability,<br />low latency,<br />high throughput</td>
      <td>slightly lower durability (99.9999%)</td>
      <td>secure,<br />high durability (99.999999999%)</td>
    </tr>
    <tr>
      <td>Cost</td>
      <td> </td>
      <td>Has lower per GB-month cost than Standard<br />Price model also includes a minimum object size (128KB), minimum duration (30 days), and per-GB retrieval costs.</td>
      <td>Reduced cost than Standard or Standard-IA</td>
      <td>Extremely low-cost</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>Reduce storage costs by automatically transitioning data from one storage class to another or eventually deleting data after a period of time. For example,
    <ul>
      <li>Store backup data initially in S3 Standard</li>
      <li>After 30 days, move to Standard-IA</li>
      <li>After 90 days, transition to Glacier,</li>
      <li>After 3 years, delete</li>
    </ul>
  </li>
  <li>Lifecycle configurations are attached to bucket or specific objects</li>
</ul>

<h3 id="s3-data-protection">S3 Data Protection</h3>

<ul>
  <li>Bucket-level permissioning - existing permissioning policies can be copied or generated using ‘Bucket policy generator’</li>
  <li>By default, all S3 objects and buckets are private and can only be accessed by the owner.</li>
  <li><strong>Access Control</strong>
    <ul>
      <li><em>Coarse-grained access controls</em>
        <ul>
          <li><strong>S3 Access Control Lists (ACLs)</strong>
            <ul>
              <li>legacy mechanism, created before IAM</li>
              <li>Limited to read, write, or full-control at object/bucket level</li>
              <li>Best used for enabling bucket logging or making a bucket that hosts a static website be readable</li>
            </ul>
          </li>
        </ul>
      </li>
      <li><em>Fine-grained access controls</em>
        <ul>
          <li><strong>S3 bucket policies</strong>
            <ul>
              <li>Recommended access control mechanism</li>
              <li>Can specify
                <ul>
                  <li>who can access the bucket</li>
                  <li>from where (by <em>CIDR</em> block or IP address)</li>
                  <li>at what time of the day</li>
                </ul>
              </li>
              <li>Bucket policies allows to assign cross-account access to S3 resources</li>
              <li>Similar to IAM but
                <ul>
                  <li>associated with bucket resource instead of an IAM principal</li>
                  <li>includes an explicit reference to the IAM principal in the policy. This principal can be associated with a different AWS account</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>AWS Identity and Access Management (IAM) policies</li>
          <li>Query String Authentication</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Encryption</strong>
    <ul>
      <li>Encrypt data in-flight
        <ul>
          <li>Transmit data using HTTPS protocol to SSL API endpoints</li>
        </ul>
      </li>
      <li>Encrypt data at rest
        <ul>
          <li><strong><em>Server-Side Encryption (SSE)</em></strong>
            <ul>
              <li>S3 encrypts data at the object level as it writes it to disks and decrypts it for you when you access it</li>
              <li><em>SSE-S3 (AWS Managed Keys)</em>
                <ul>
                  <li>AWS handles the key management and key protection</li>
                  <li>Every object is encrypted with a unique key</li>
                  <li>The object encryption key is then encrypted using a separate master key</li>
                  <li>A new master key is issued at least monthly with AWS rotating the keys.</li>
                  <li>Encrypted data, keys and master keys are all stored separately on secure hosts</li>
                </ul>
              </li>
              <li><em>SSE-KMS (AWS KMS Keys)</em>
                <ul>
                  <li>AWS handles management and protection of <em>your</em> key</li>
                  <li>SSE-KMS offers additional benefits
                    <ul>
                      <li>provides audit of who used the key to access, which object, when.</li>
                      <li>Allows to view failed attempts to access data from users who did not have permissions</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><em>SSE-C (Customer Provided Keys)</em>
                <ul>
                  <li>You maintain your own encryption keys, but don’t want to manage or implement your own client-side encryption library</li>
                  <li>AWS will do the encryption/decryption of your objects while you maintain full control of the keys</li>
                </ul>
              </li>
            </ul>
          </li>
          <li><strong><em>Client-Side Encryption (CSE)</em></strong>
            <ul>
              <li>You encrypt the data before sending it to S3</li>
              <li>2 options for using data encryption keys
   	* Use an AWS KMS-managed customer master key
                <ul>
                  <li>Use a client-side master key</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Versioning</strong>
    <ul>
      <li>If an object is accidentally changed/deleted, one can restore the object to its original state by referencing the version ID in addition to the bucket and object key</li>
      <li>Versioning is turned on at the bucket level. Once enabled, versioning cannot be removed from a bucket; it can only be suspended.</li>
    </ul>
  </li>
  <li><strong>Multi-Factor Authentication (MFA) Delete</strong>
    <ul>
      <li>requires additional authentication in order to permanently delete an object version or change the versioning state of a bucket.</li>
      <li>MFA delete can only be enabled by the root account</li>
    </ul>
  </li>
  <li><strong>Pre-Signed URLs</strong>
    <ul>
      <li>All S3 objects are by default private.</li>
      <li>Owner can share objects with others by creating <em>pre-signed URL</em>, using their own security credentials to grant time-limited permission to download the objects.</li>
      <li>To create a <em>pre-signed URL</em>, you must provide: your security credentials, bucket name, object key, the HTTP method (GET for download) and an expiration date and time.</li>
      <li>Useful to protect against ‘content scraping’ of web content such as media files stored in S3</li>
    </ul>
  </li>
</ul>

<h3 id="advanced-topics">Advanced Topics</h3>

<ul>
  <li><em>Multipart Upload</em>
    <ul>
      <li>To support uploading/copying large objects</li>
      <li>Allows to pause and resume. Has ability to upload objects where the size is initially unknown</li>
      <li>Object size &gt; 100 MB - you <em>should</em> use multipart upload</li>
      <li>Object size &gt; 5 GB - you <em>must</em> use multipart upload</li>
      <li>Using high-level APIs and high-level S3 command in CLI (<code>aws s3 cp</code>, <code>aws s3 mv</code>, <code>aws s3 sync</code>), multipart upload is automatically performed for large objects</li>
      <li>Using low-level APIs, you must break the file into parts and keep track of the parts.</li>
      <li>If a multipart upload is incomplete after specified number of days, you can set an object lifecycle policy on a bucket to abort to minimize the storage costs.</li>
    </ul>
  </li>
  <li><em>Range GETs</em>
    <ul>
      <li>is used to download (GET) only a portion of an object in S3 or Glacier.</li>
    </ul>
  </li>
  <li><em>Cross-Region Replication</em>
    <ul>
      <li>allows to asynchronously replicate all <em>new</em> objects from one region to another.</li>
      <li>Metadata and ACLs of the object also is replicated.</li>
      <li>Only new objects are replicated. Existing objects must be copied via a separate command.</li>
      <li>To enable <em>Cross-Region Replication</em>, versioning must be turned-on in both source and target buckets.</li>
      <li>An IAM policy must be used to give S3 permission to replicate objects on your behalf.</li>
      <li>Commonly used to reduce the latency to access objects by placing them closer to a set of users or store backup data at a certain distance from the original source data</li>
    </ul>
  </li>
  <li><em>Logging</em>
    <ul>
      <li>Logging is off by default. While enabling, you must choose the bucket where the logs will be stored.</li>
    </ul>
  </li>
  <li><em>Event Notifications</em>
    <ul>
      <li>Set up at bucket level to notify when an object is created, removed or lost in RRS</li>
      <li>Notification messages can be sent to Amazon SQS or Amazon SNS or AWS Lambda</li>
    </ul>
  </li>
</ul>

<h2 id="amazon-glacier">Amazon Glacier</h2>

<ul>
  <li>Extremely low-cost storage service for data archiving and long-term backup. Optimized for infrequently accessed data where a retrieval time of several hours is suitable.</li>
  <li>To retrieve an object, issue a restore command using S3 API; 3 to 5 hours later, it is copied to S3 RRS. Restore simply creates a copy; the original data is retained in Glacier until explicitly deleted.</li>
  <li><strong>Archives</strong>
    <ul>
      <li>Data is stored in <em>archives</em></li>
      <li>Max 40 TB of data per archive</li>
      <li>Unlimited archives can be created</li>
      <li>Each archive is assigned a unique archive ID at the creation time</li>
      <li>Archives are automatically encrypted</li>
      <li>Archives are immutable</li>
    </ul>
  </li>
  <li><strong>Vaults</strong>
    <ul>
      <li>Vaults are containers for archives.</li>
      <li>Max 1000 vaults per account</li>
      <li>Control access to vaults using IAM policies or vault access policies</li>
      <li><em>Vault lock policy</em>: can specify controls such as Write Once Read Many (WORM) in a vault local policy to lock the policy from future edits.</li>
      <li>Retrieving up to 5% of stored data is free per month.</li>
    </ul>
  </li>
</ul>

<h2 id="amazon-elastic-block-store-ebs">Amazon Elastic Block Store (EBS)</h2>

<p><img class="right" src="/technology/aws-ebs.PNG" width="200" height="200" /></p>

<ul>
  <li>Persistent block-level storage volumes for use with EC2 instances. Each EBS volume is automatically replicated within its Availability Zone to protect from component failure, offering HA and durability.</li>
  <li>Each EBS volume is automatically replicated within its Availability Zone</li>
  <li>Each EBS volume can be attached to a single EC2 instances</li>
  <li>A single EC2 instance can be attached to one or more EBS volumes</li>
</ul>

<h3 id="ebs-volume-types">EBS Volume Types</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left"> </th>
      <th style="text-align: left"><strong>Magnetic Volume</strong></th>
      <th style="text-align: left"><strong>General-Purpose SSD</strong></th>
      <th style="text-align: left"><strong>Provisioned IOPS SSD</strong></th>
      <th style="text-align: left"><strong>Throughput-Optimized HDD Volumes</strong></th>
      <th style="text-align: left"><strong>Cold HDD Volumes</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Use Cases</strong></td>
      <td style="text-align: left">Workloads where data is accessed infrequently, Sequential reads, Situations where low-cost storage is a requirement</td>
      <td style="text-align: left">System boot volumes, Virtual Desktops, small-to-medium size databases, Dev to Test environments</td>
      <td style="text-align: left">I/O intensive workloads, particularly large database workloads,<br />Critical business apps that require sustained IOPS performance or more than 10,000 IOPS or 160 MB of throughput per volume</td>
      <td style="text-align: left">Low-cost HDD volumes designed for frequent-access, throughput-intensive workloads such as big data, data warehouses, and log processing.</td>
      <td style="text-align: left">Designed for less frequently accessed workloads, such as colder data requiring fewer scans per day.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Volume Size</strong></td>
      <td style="text-align: left">1 GB to 1 TB</td>
      <td style="text-align: left">1 GB to 16 TB</td>
      <td style="text-align: left">4 GB to 16 TB</td>
      <td style="text-align: left">up to 16 TB</td>
      <td style="text-align: left">Max 16 TB</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Max throughput</strong></td>
      <td style="text-align: left">40 - 90 MB</td>
      <td style="text-align: left">160 MB</td>
      <td style="text-align: left">320 MB</td>
      <td style="text-align: left">500 MB/s</td>
      <td style="text-align: left">250 MB/s</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>IOPS Performance</strong></td>
      <td style="text-align: left">Average 100 IOPS with the ability to burst to 100s of IOPS</td>
      <td style="text-align: left">Baseline performance of 3 IOPS/GB (max 10,000 IOPS) with the ability to burst to 3000 IOPS for volumes under 1000 GB</td>
      <td style="text-align: left">Consistently performs at provisioned level, up to 20,000 IOPS max</td>
      <td style="text-align: left">max 500</td>
      <td style="text-align: left">Max 250</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Cost</strong></td>
      <td style="text-align: left">Cheapest</td>
      <td style="text-align: left"> </td>
      <td style="text-align: left">Based on the volume size provisioned (not space used) + number of IOPS provisioned, whether they are consumed or not</td>
      <td style="text-align: left">significantly less expensive than general-purpose SSD volumes.</td>
      <td style="text-align: left">significantly less expensive than Throughput-Optimized HDD volumes</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Misc</strong></td>
      <td style="text-align: left">Lowest Performance</td>
      <td style="text-align: left"> </td>
      <td style="text-align: left">When you provision a <em>Provisioned IOPS SSD</em> volume, you should specify both the size and the desired number of IOPS<br />You can stripe multiple volumes together in a <em>RAID 0</em> configuration for larger size and greater performance</td>
      <td style="text-align: left"> </td>
      <td style="text-align: left"> </td>
    </tr>
  </tbody>
</table>

<p><strong>EBS-Optimized Instances</strong></p>

<ul>
  <li>Uses an optimized configuration stack and provides additional, dedicated capacity for EBS I/O. This optimization provides the best performance for EBS volumes by minimizing contention between EBS I/O and other traffic from EC2 instance.</li>
</ul>

<h3 id="ebs-snapshots">EBS Snapshots</h3>

<ul>
  <li>Backup EBS volume data by taking snapshots through AWS console, CLI, API or setting up a schedule for regular snapshots</li>
  <li>Snapshots are incremental backups, which means that only the blocks on the device that have changed since your most recent snapshot are saved.</li>
  <li>Snapshot data is stored in S3.</li>
  <li>The action of taking a snapshot is free. You pay only the storage costs for the snapshot data.</li>
  <li>When you request a snapshot, the point-in-time snapshot is created immediately and the volume may continue to be used, but the snapshot may remain in pending status until all the modified blocks have been transferred to S3.</li>
  <li>Snapshots are stored in AWS-controlled S3 storage; not in your account’s S3 buckets. This means you cannot manipulate them like other Amazon S3 objects. Rather, you must use the EBS snapshot features to manage them.</li>
  <li>Snapshots are constrained to the region in which they are created, meaning you can use them to create new volumes only in the same region. If you need to restore a snapshot in a different region, you can copy a snapshot to another region.</li>
</ul>

<p><strong>Creating a Volume from a Snapshot</strong></p>

<ul>
  <li>To use a snapshot, you create a new EBS volume from the snapshot. When you do this, the volume is created immediately but the data is loaded lazily. This means that the volume can be accessed upon creation, and if the data being requested has not yet been restored, it will be restored upon first request. Because of this, it is a best practice to initialize a volume created from a snapshot by accessing all the blocks in the volume.</li>
  <li>Snapshots can also be used to increase the size of an EBS volume. To increase the size of an EBS volume
    <ul>
      <li>take a snapshot of the volume</li>
      <li>create a new volume of the desired size from the snapshot</li>
      <li>Replace the original volume with the new volume.</li>
    </ul>
  </li>
</ul>

<p><strong>Recovering Volumes</strong></p>

<ul>
  <li>If an Amazon EBS-backed instance fails and there is data on the boot drive, it is relatively straightforward to detach the volume from the instance.</li>
  <li>Unless the <code>DeleteOnTermination</code> flag for the volume has been set to false, the volume should be detached before the instance is terminated.</li>
  <li>The volume can then be attached as a data volume to another instance and the data read and recovered.</li>
</ul>

<p><strong>Encryption Options</strong></p>

<ul>
  <li>Amazon EBS offers native encryption on all volume types</li>
  <li>When you launch an encrypted EBS volume, Amazon uses the <em>AWS KMS</em> to handle key management. A new master key will be created unless you select a master key that you created separately in the service.</li>
  <li>Data and associated keys are encrypted using the industry-standard <em>AES-256</em> algorithm.</li>
  <li>The encryption occurs on the servers that host EC2 instances, so the data is actually encrypted in transit between the host and the storage media and also on the media.</li>
  <li>Encryption is transparent, so all data access is the same as unencrypted volumes, and you can expect the same IOPS performance on encrypted volumes as you would with unencrypted volumes, with a minimal effect on latency.</li>
  <li>Snapshots that are taken from encrypted volumes are automatically encrypted, as are volumes that are created from encrypted snapshots.</li>
</ul>

<h2 id="aws-storage-gateway">AWS Storage Gateway</h2>

<ul>
  <li>is a service connecting an on-premise s/w with cloud-based storage to provide seamless and secure integration. It provides low-latency performance by maintaining a cache of frequently accessed data on-premises while securely storing all of your data encrypted in S3 or Glacier.</li>
</ul>

<h2 id="amazon-cloudfront">Amazon CloudFront</h2>

<ul>
  <li>is a content delivery web service - an easy way to distribute content with low-latency, high data transfer speeds - can be used to deliver websites including dynamic, static, streaming and interactive content, using a global network of edge locations. Request for content are automatically routed to the nearest edge location for best performance.</li>
</ul>

<hr />

<h1 id="compute-and-network-services">Compute and Network Services</h1>

<h2 id="ec2">EC2</h2>

<h3 id="instance-types">Instance Types</h3>

<ul>
  <li>2 key concepts to an instance:
    <ul>
      <li>the amount of virtual hardware dedicated to the Instance</li>
      <li>the software loaded on the instance</li>
    </ul>
  </li>
  <li>Instance types vary in following dimensions:
    <ul>
      <li>Virtual CPUs (vCPUs)</li>
      <li>Memory</li>
      <li>Storage</li>
      <li>Network performance</li>
    </ul>
  </li>
  <li>Instance types are grouped into families</li>
  <li>The ratio of vCPUs to memory is constant as the size scale linearly</li>
  <li>The hourly price for each size scales linearly. e.g., <code>Cost(m4.xlarge) = 2 x Cost(m4.large)</code></li>
  <li>Optimized Instance Type Family
    <ul>
      <li><code>m4</code> family provides a balance of compute, memory and n/w resources</li>
      <li><code>c4</code> <strong>compute optimized</strong> for workloads requiring significant processing</li>
      <li><code>r3</code> <strong>memory optimized</strong> for memory-intensive workloads</li>
      <li><code>i2</code> <strong>storage optimized</strong> for workloads requiring high amounts of fast SSD storage</li>
      <li><code>g2</code> <strong>GPU-based instances</strong> for graphics and general-purpose GPU compute workloads</li>
    </ul>
  </li>
  <li>Network performance
    <ul>
      <li>AWS publishes a relative measure of n/w performance: low, moderate, high</li>
      <li><em>Enhanced Networking</em>:
        <ul>
          <li>For workloads requiring greater n/w performance, use instance types supporting <em>enhanced networking</em>.</li>
          <li>It reduces the impact of virtualization on n/w performance enabling a capability called <strong><em>Single Root I/O Virtualization (SR-IOV)</em></strong></li>
          <li>This results in more <em>packets per second (PPS)</em>, lower latency and less jitter</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><strong>Amazon Machine Image (AMI)</strong></p>

<ul>
  <li>defines the initial software that will be on an instance when it is launched: <em>OS + initial state of patches + application/system software</em></li>
  <li>All AMIs are based on x86 OS (either Linux or Windows)</li>
  <li><strong>4 Sources of AMIs</strong>
    <ul>
      <li><em>Published by AWS</em>: you should apply patches upon launch</li>
      <li><em>AWS Marketplace</em></li>
      <li><em>Generated from Existing instances</em>: published AMI + corporate standard software added</li>
      <li><em>Uploaded Virtual Servers</em>: Using AWS VM Import/Export to create images from formats: VHD, VMDK, OVA</li>
    </ul>
  </li>
</ul>

<p><strong>Addressing an Instance</strong></p>

<p>There are several ways that an instance may be addressed over the web upon creation:</p>

<ul>
  <li><strong><em>Public DNS Name</em></strong>
    <ul>
      <li>DNS name is generated automatically and cannot be specified by the customer.</li>
      <li>This DNS name persists only while the instance is running and cannot be transferred to another instance.</li>
    </ul>
  </li>
  <li><strong><em>Public IP</em></strong>
    <ul>
      <li>This IP address is assigned from the addresses reserved by AWS and cannot be specified.</li>
      <li>This IP address is unique on the Internet, persists only while the instance is running, and cannot be transferred to another instance.</li>
    </ul>
  </li>
  <li><strong><em>Elastic IP</em></strong>
    <ul>
      <li>An elastic IP address is an address unique on the Internet that you reserve independently and associate with an instance.</li>
      <li>This IP address persists until the customer releases it and is not tied to the lifetime or state of an individual instance.</li>
      <li>Because it can be transferred to a replacement instance in the event of an instance failure, it is a public address that can be shared externally without coupling clients to a particular instance.</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>Private IP addresses and Elastic Network Interfaces (ENIs) are additional methods of addressing instances that are available in the context of an VPC.</p>
</blockquote>

<h3 id="securing-an-instance">Securing an Instance</h3>

<p><strong>Initial Access</strong></p>

<ul>
  <li>EC2 uses <em>public-key cryptography</em> to encrypt and decrypt login information.</li>
  <li><em>Public-key cryptography</em> uses a public key to encrypt a piece of data and an associated private key to decrypt the data. These two keys together are called a <em>key pair</em>.</li>
  <li>Key pairs can be created through the AWS Management Console, CLI, or API, or customers can upload their own key pairs.</li>
  <li>AWS stores the public key in <code>~/.ssh/authorized_keys</code> folder</li>
  <li>Private keys are kept by the customer. The private key is essential to acquiring secure access to an instance for the first time.</li>
  <li>When launching a Windows instance, EC2 generates a random password for the local administrator account and encrypts the password using the public key. Initial access to the instance is obtained by decrypting the password with the private key, either in the console or through the API.</li>
</ul>

<p><strong>Virtual Firewall Protection</strong></p>

<ul>
  <li>AWS allows you to control traffic in and out of your instances through virtual firewalls called <strong>security groups</strong>.</li>
  <li>Security groups allow you to control traffic based on port, protocol, and source/destination.</li>
  <li>Security groups are applied at the instance level, as opposed to a traditional on-premises firewall that protects at the perimeter. To breach a single perimeter to access all instances, one has to breach the security groups repeatedly for each individual instances</li>
  <li>Security groups have different capabilities :
    <ul>
      <li><em>EC2-Classic Security Groups</em> - Control outgoing instance traffic</li>
      <li><em>VPC Security Groups</em>	- Control outgoing and incoming instance traffic</li>
    </ul>
  </li>
  <li>Every instance must have at least one security group but can have more</li>
  <li><em>Changing Security Group</em>
    <ul>
      <li>If an instance is running in an VPC, you can change which security groups are associated with an instance while the instance is running.</li>
      <li>For instances outside of an VPC (called EC2-Classic), the association of the security groups cannot be changed after launch.</li>
    </ul>
  </li>
  <li>A security group is <em>default deny</em> - it does not allow any traffic that is not explicitly allowed by a security group rule.</li>
  <li>A <em>rule</em> is defined by 3 attributes:
    <ul>
      <li>Port</li>
      <li>Protocol. e.g., HTTP, RDP, etc.</li>
      <li>Source/Destination- can be defined in 2 ways:
        <ul>
          <li>CIDR block</li>
          <li>Security group — Includes any instance that is associated with the given security group. This helps prevent coupling security group rules with specific IP addresses</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>When an instance is associated with multiple security groups, the rules are aggregated and all traffic allowed by each of the individual groups is allowed. For example, if security group A allows RDP traffic from 72.58.0.0/16 and security group B allows HTTP and HTTPS traffic from 0.0.0.0/0 and your instance is associated with both groups, then both the RDP and HTTP/S traffic will be allowed in to your instance.</li>
  <li>A security group is a <strong>stateful firewall</strong>; that is, an outgoing message is remembered so that the response is allowed through the security group without an explicit inbound rule being required.</li>
</ul>

<h3 id="lifecycle-of-instances">Lifecycle of Instances</h3>

<p><strong>Bootstrapping</strong></p>

<ul>
  <li>Ability to configure instances and install applications programmatically when an instance is launched. The process of providing code to be run on an instance at launch is called <em>bootstrapping</em>.</li>
  <li>When an instance is launched for the first time, a string-valued parameter <code>UserData</code> is passed to the OS to be executed as part of the launch process. On Linux, this can be a shell script, performing tasks like
    <ul>
      <li>Applying patches and updates to the OS</li>
      <li>Installing application software</li>
      <li>Copying a longer script or program from storage to be run on the instance</li>
      <li>Installing Chef or Puppet and assigning the instance a role so the configuration management software can configure the instance</li>
    </ul>
  </li>
  <li><code>UserData</code> is stored with the instance and is not encrypted. DO NOT include any secrets such as passwords or keys in it.</li>
</ul>

<p><strong>VM Import/Export</strong></p>

<ul>
  <li>Import VMs from your existing environment as an EC2 instance and export them back to your on-premises environment.</li>
  <li>You can only export previously imported EC2 instances. Instances launched within AWS from AMIs cannot be exported.</li>
</ul>

<p><strong>Instance Metadata</strong></p>

<ul>
  <li>Instance metadata is data about your instance that you can use to configure or manage the running instance. This is unique in that it is a mechanism to obtain AWS properties of the instance from within the OS without making a call to the AWS API.</li>
  <li>An HTTP call to http://169.254.169.254/latest/meta-data/ will return the top node of the instance metadata tree.</li>
  <li>Instance metadata includes:
    <ul>
      <li>The associated security groups</li>
      <li>The instance ID</li>
      <li>The instance type</li>
      <li>The AMI used to launch the instance</li>
    </ul>
  </li>
</ul>

<p><strong>Instance Tags</strong></p>

<ul>
  <li>Tags are key/value pairs you can associate with your instance or other service.</li>
  <li>Tags can be used to identify attributes of an instance like project, environment (dev, test, and so on), billable department, and so forth.</li>
  <li>Max 10 tags per instance.</li>
</ul>

<p><strong>Modifying Instance Type</strong></p>

<ul>
  <li>If the compute needs prove to be higher or lower than expected, the instances can be changed to a different size more appropriate to the workload.</li>
  <li>Stop instance -&gt; Change instance type -&gt; Restart instance</li>
</ul>

<p><strong>Termination Protection</strong></p>

<ul>
  <li>To prevent accidental termination, when <em>Termination Protection</em> is enabled, calls to terminate the instance will fail.</li>
  <li>It does not prevent termination triggered
    <ul>
      <li>by an OS shutdown command,</li>
      <li>termination from an Auto Scaling group, or</li>
      <li>termination of a Spot Instance due to Spot price changes</li>
    </ul>
  </li>
</ul>

<h3 id="instance-pricing-options">Instance Pricing Options</h3>

<ul>
  <li><strong>On-Demand Instances</strong>
    <ul>
      <li>Least cost-effective due to the flexibility it allows customers to save by provisioning a variable level of compute for unpredictable workloads</li>
      <li>The price is per hour for each instance type</li>
      <li>No up-front commitment, and the customer has control over when the instance is launched and when it is terminated</li>
    </ul>
  </li>
  <li><strong>Reserved Instances</strong>
    <ul>
      <li>75% less cost compared to On-Demand hourly rate</li>
      <li>When purchasing a reservation, the customer specifies the instance type and Availability Zone</li>
      <li>Capacity in the data centers is reserved for that customer.</li>
      <li>2 factors determining the cost:
        <ul>
          <li><em>Term commitment</em> - the duration of the reservation</li>
          <li><em>Payment option</em>
            <ul>
              <li><em>All Upfront</em> —Pay for the entire reservation up front. There is no monthly charge for the customer during the term.</li>
              <li><em>Partial Upfront</em> —Pay a portion of the reservation charge up front and the rest in monthly installments for the duration of the term.</li>
              <li><em>No Upfront</em> —Pay the entire reservation charge in monthly installments for the duration of the term.</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>Modifying Reservation: You can modify your whole reservation, or just a subset, in one or more of the following ways:
        <ul>
          <li>Switch Availability Zones within the same region.</li>
          <li>Change between EC2-VPC and EC2-Classic.</li>
          <li>Change the instance type within the same instance family (Linux instances only).</li>
        </ul>
      </li>
      <li>One may purchase two Reserved Instances to handle the average traffic, but depend on On-Demand Instances to fulfill compute needs during the peak times.</li>
    </ul>
  </li>
  <li><strong>Spot Instances</strong>
    <ul>
      <li>offers the greatest discount</li>
      <li>For workloads that are not time critical and are tolerant of interruption</li>
      <li>With Spot Instances, when the customer’s bid price is above the current Spot price, the customer will receive the requested instance(s). These instances will operate like all other EC2 instances, and the customer will only pay the Spot price for the hours that instance(s) run.</li>
      <li>The instances will run until:
        <ul>
          <li>The customer terminates them.</li>
          <li>The Spot price goes above the customer’s bid price.</li>
          <li>There is not enough unused capacity to meet the demand for Spot Instances.</li>
          <li>If EC2 needs to terminate a Spot Instance, the instance will receive a termination notice providing a two-minute warning prior to EC2 terminating the instance.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="tenancy-options">Tenancy options</h3>

<ul>
  <li><strong>Shared Tenancy</strong>
    <ul>
      <li>a single host machine may house instances from different customers</li>
      <li>Default model</li>
      <li>AWS does not use overprovisioning and fully isolates instances from other instances on the same host, this is a secure tenancy model.</li>
    </ul>
  </li>
  <li><strong>Dedicated Instance</strong>
    <ul>
      <li>runs on hardware that’s dedicated to a single customer.</li>
    </ul>
  </li>
  <li><strong>Dedicated Host</strong>
    <ul>
      <li>Dedicated Host is a physical server with EC2 instance capacity fully dedicated to a single customer’s use.</li>
      <li>The customer has complete control over which specific host runs an instance at launch. This differs from Dedicated Instances in that a Dedicated Instance can launch on any hardware that has been dedicated to the account.</li>
      <li>can help address licensing requirements and reduce costs by allowing to use existing server-bound software licenses.</li>
    </ul>
  </li>
  <li><strong>Placement Groups</strong>
    <ul>
      <li>is a logical grouping of instances within a single Availability Zone.</li>
      <li>enable applications to participate in a low-latency, 10 Gbps network.</li>
      <li>recommended for applications that benefit from low network latency, high network throughput, or both. This represents network connectivity between instances.</li>
      <li>To fully use this network performance for your placement group, choose an instance type that supports enhanced networking and 10 Gbps network performance.</li>
    </ul>
  </li>
</ul>

<p><strong>Instance Stores</strong></p>

<ul>
  <li>An instance store provides temporary block-level storage (<em>ephemeral storage</em>)</li>
  <li>Data in the instance store is lost when:
    <ul>
      <li>the underlying disk drive fails</li>
      <li>the instance stops</li>
      <li>the instance terminates</li>
    </ul>
  </li>
</ul>

<h2 id="aws-lambda">AWS Lambda</h2>

<ul>
  <li>a zero-administration compute platform for back-end web developers that runs your code for you on the AWS cloud (for high availability)</li>
</ul>

<h2 id="auto-scaling">Auto Scaling</h2>

<ul>
  <li>
    <p>allows to scale EC2 capacity up or down automatically according to conditions defined for the particular workload (for scaling in and out)</p>
  </li>
  <li>Advantage of deploying applications to the cloud is the ability to launch and then release servers in response to variable workloads.</li>
  <li>
    <p>Provisioning servers on demand and then releasing when not needed can provide significant cost savings. E.g., an end-of-month data-input system, a retail shopping site supporting flash sales, etc.</p>
  </li>
  <li><strong>Embrace the Spike</strong>
    <ul>
      <li>Many web applications have unplanned load increases based on events outside of your control.</li>
      <li>Setting up Auto Scaling in advance will allow to embrace and survive such fast increase in the number of requests. It will scale up your site to meet the increased demand and then scale down when the event subsides.</li>
    </ul>
  </li>
</ul>

<h3 id="auto-scaling-plans">Auto Scaling Plans</h3>

<ul>
  <li><strong>Maintain Current Instance Levels</strong>
    <ul>
      <li>Configure your Auto Scaling group to maintain a minimum or specified number of running instances at all times.</li>
      <li>To maintain the current instance levels, Auto Scaling performs a periodic health check on running instances within an Auto Scaling group.</li>
      <li>When Auto Scaling finds an unhealthy instance, it terminates that instance and launches a new one.</li>
      <li>Steady state workloads that need a consistent number of EC2 instances at all times can use Auto Scaling to monitor and keep that specific number of EC2 instances running.</li>
    </ul>
  </li>
  <li><strong>Manual Scaling</strong>
    <ul>
      <li>This is the most basic way to scale your resources. You just need to specify the change in the maximum, minimum, or desired capacity of your Auto Scaling group.</li>
      <li>Auto Scaling manages the process of creating or terminating instances to maintain the updated capacity.</li>
      <li>Manual scaling out can be very useful to increase resources for an infrequent event, such as movie release dates.</li>
      <li>For extremely large-scale events, even the ELB load balancers can be pre-warmed by working with your local solutions architect or AWS Support.</li>
    </ul>
  </li>
  <li><strong>Scheduled Scaling</strong>
    <ul>
      <li>When you have a recurring schedule or a predictable schedule of when you will need to increase or decrease the number of instances in your group, e.g., end-of-month, or end-of-year processing, schedule scaling is useful.</li>
      <li>Scaling actions are performed automatically as a function of time and date.</li>
    </ul>
  </li>
  <li><strong>Dynamic Scaling</strong>
    <ul>
      <li>Lets you define parameters that control the Auto Scaling process in a scaling policy. E.g., create a policy that adds more EC2 instances to the web tier when the network bandwidth, measured by CloudWatch, reaches a certain threshold.</li>
    </ul>
  </li>
</ul>

<h3 id="auto-scaling-components">Auto Scaling Components</h3>

<p><strong>Launch Configuration</strong></p>

<ul>
  <li>A launch configuration is the template used to create new instances, and it has the following:
    <ul>
      <li>Name (e.g., <em>myLC</em>)</li>
      <li>AMI (e.g., <em>ami-0535d66c</em>)</li>
      <li>Instance type (e.g., <em>m3.medium</em>)</li>
      <li>Security groups (e.g., <em>sg-f57cde9d</em>)</li>
      <li>Instance key pair (e.g., <em>myKeyPair</em>)</li>
    </ul>
  </li>
  <li>Each Auto Scaling group can have only one launch configuration at a time.</li>
  <li>Security groups for instances launched in EC2-Classic may be referenced by security group name or by security group IDs. Security group ID is recommended.</li>
  <li><em>Limits</em>
    <ul>
      <li>Default limit for launch configurations = <strong>100 per region</strong>. If you exceed this limit, the call to create-launch-configuration will fail. To update this limit: <code>aws autoscaling describe-account-limits</code></li>
      <li>Auto Scaling may cause you to reach limits of other services, such as the default number of EC2 instances you can currently launch = <strong>20 per region</strong>.</li>
      <li>When you run a command using the CLI and it fails,
        <ul>
          <li>check your syntax first. If that checks out,</li>
          <li>verify the limits for the command you are attempting, and check to see that you have not exceeded a limit.</li>
          <li>To raise the limits, in cases allowed, create a support case at the AWS Support Center online and then choose <em>Service Limit Increase under Regarding</em>.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><strong>Auto Scaling Group</strong></p>

<ul>
  <li>An Auto Scaling group is a collection of EC2 instances managed by the Auto Scaling service.</li>
  <li>Each Auto Scaling group contains configuration options that control when Auto Scaling should launch new instances and terminate existing instances.</li>
  <li>An Auto Scaling group must contain
    <ul>
      <li>a name</li>
      <li>a minimum and maximum number of instances that can be in the group.</li>
      <li>(optional) desired capacity, which is the number of instances that the group must have at all times. If not specified, the default desired capacity = the minimum number of instances.</li>
    </ul>
  </li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Name: myASG
</span><span class="line">Launch configuration: myLC
</span><span class="line">Availability Zones: us-east-1a and us-east-1c
</span><span class="line">Minimum size: 1
</span><span class="line">Desired capacity: 3
</span><span class="line">Maximum capacity: 10
</span><span class="line">Load balancers: myELB</span></code></pre></td></tr></table></div></figure></notextile></div>

<ul>
  <li>An Auto Scaling group can use either On-Demand (default) or Spot instances, but not both.</li>
  <li>Spot Instances
    <ul>
      <li>Bid price can be modified</li>
      <li>If instances are available at or below your bid price, they will be launched in your Auto Scaling group.</li>
    </ul>
  </li>
</ul>

<p><strong>Spot On!</strong></p>

<ul>
  <li>Spot Instances can be useful when hosting sites to provide additional compute capacity but are price constrained. E.g., a “freemium” site model where some basic functionality to users are free and additional functionality is for premium users.</li>
  <li>It can be used for providing the basic functionality when available by referencing a maximum bid price in the launch configuration (<code>—spot-price "0.15"</code>) associated with the Auto Scaling group.</li>
</ul>

<p><strong>Scaling Policy</strong></p>

<p><img class="right" src="/technology/aws-auto-scaling.png" /></p>

<ul>
  <li>CloudWatch alarms and scaling policies can be associated with an Auto Scaling group to adjust Auto Scaling dynamically.</li>
  <li>When a threshold is crossed, CloudWatch sends alarms to trigger changes (scaling in or out) to the number of EC2 instances currently receiving traffic behind a load balancer.</li>
  <li>After the CloudWatch alarm sends a message to the Auto Scaling group, Auto Scaling executes the associated policy to scale your group.</li>
  <li>The policy is a set of instructions that tells Auto Scaling whether to scale out, launching new EC2 instances referenced in the associated launch configuration, or to scale in and terminate instances.</li>
  <li>Various ways to configure a scaling policy:
    <ul>
      <li>increase or decrease by a specific number of instances, or</li>
      <li>adjust based on a percentage.</li>
      <li>scale by steps and increase or decrease the current capacity of the group based on a set of scaling adjustments that vary based on the size of the alarm threshold trigger.</li>
    </ul>
  </li>
  <li>
    <p>More than one scaling policy can be associated with an Auto Scaling group. E.g., One policy to scale out if CPU Load &gt; 75% for 2 minutes. Another policy to scale in if CPU Load &lt; 40% for 20 minutes.</p>
  </li>
  <li><em>Best Practice</em>
    <ul>
      <li>Scale out quickly and scale in slowly so you can respond to bursts or spikes but avoid inadvertently terminating EC2 instances too quickly, only having to launch more EC2 instances if the burst is sustained.</li>
      <li>Auto Scaling also supports a <em>cooldown period</em>, which is a configurable setting that determines when to suspend scaling activities for a short time for an Auto Scaling group.</li>
      <li>If you start an EC2 instance, you will be billed for one full hour of running time. Partial instance hours consumed are billed as full hours. This means that if you have a permissive scaling policy that launches, terminates, and re-launches many instances an hour, you are billing a full hour for each and every instance you launch, even if you terminate some of those instances in less than hour.</li>
      <li>Bootstrapping new EC2 instances launched using Auto Scaling takes time to configure before the instance is healthy and capable of accepting traffic. Instances that start and are available for load faster can join the capacity pool more quickly.</li>
      <li>Stateless instances can enter and exit gracefully than a stateful instance in an Auto Scaling group.</li>
    </ul>
  </li>
  <li><em>Rolling Out a Patch at Scale</em>
    <ul>
      <li>In large deployments of EC2 instances, Auto Scaling can be used to make rolling out a patch to your instances easy.</li>
      <li>The launch configuration associated with the Auto Scaling group may be modified to reference a new AMI and even a new EC2 instance if needed. Then you can deregister or terminate instances one at a time or in small groups, and the new EC2 instances will reference the new patched AMI.</li>
    </ul>
  </li>
</ul>

<h2 id="elastic-load-balancing-elb">Elastic Load Balancing (ELB)</h2>

<ul>
  <li>
    <p>automatically distributes incoming application traffic across multiple EC2 instances. (for fault-tolerance)</p>
  </li>
  <li>ELB allows to distribute traffic across a group of EC2 instances in one or more Availability Zones, to achieve high availability in your applications.</li>
  <li>ELB supports routing and load balancing of HTTP, HTTPS, TCP, and SSL traffic to EC2 instances.</li>
  <li>ELB provides a stable, single <em>Canonical Name record (CNAME)</em> entry point for DNS configuration and supports both Internet-facing and internal application-facing load balancers.</li>
  <li>ELB supports health checks for EC2 instances to ensure traffic is not routed to unhealthy or failing instances. It can scale automatically based on collected metrics.</li>
  <li>Long-running applications will eventually need to be maintained and updated with a newer version of the application. When using EC2 instances running behind an ELB load balancer, you may deregister these long-running EC2 instances associated with a load balancer manually and then register newly launched EC2 instances that you have started with the new updates installed.</li>
  <li><strong>Advantages of ELB</strong>
    <ul>
      <li>Because ELB is a managed service, it scales in and out automatically to meet the demands of increased application traffic and is highly available within a region itself as a service.</li>
      <li>ELB helps you achieve high availability for your applications by distributing traffic across healthy instances in multiple Availability Zones.</li>
      <li>ELB seamlessly integrates with the Auto Scaling service to automatically scale the EC2 instances behind the load balancer.</li>
      <li>ELB is secure, working with VPC to route traffic internally between application tiers, allowing you to expose only Internet-facing public IP addresses.</li>
      <li>ELB also supports integrated certificate management and SSL termination.</li>
    </ul>
  </li>
</ul>

<h3 id="types-of-load-balancers">Types of Load Balancers</h3>

<h4 id="internet-facing-load-balancers">Internet-Facing Load Balancers</h4>

<ul>
  <li>Takes requests from clients over the Internet and distributes them to EC2 instances that are registered with the load balancer.</li>
  <li>When you configure a load balancer, it receives a public DNS name that clients can use to send requests to your application. The DNS servers resolve the DNS name to your load balancer’s public IP address, which can be visible to client applications.</li>
  <li>Because ELB scales in and out to meet traffic demand, it is not recommended to bind an application to an IP address that may no longer be part of a load balancer’s pool of resources.</li>
  <li>Best practice: always reference a load balancer by its DNS name, instead of by the IP address, in order to provide a single, stable entry point.</li>
  <li>ELB in VPC supports IPv4 addresses only.</li>
  <li>ELB in EC2-Classic supports both IPv4 and IPv6 addresses.</li>
</ul>

<h4 id="internal-load-balancers">Internal Load Balancers</h4>

<ul>
  <li>In a multi-tier application, it is often useful to load balance between the tiers of the application. For example, an Internet-facing load balancer might receive and balance external traffic to the presentation or web tier whose EC2 instances then send its requests to a load balancer sitting in front of the application tier.</li>
  <li>Internal load balancers can be used to route traffic to EC2 instances in VPCs with private subnets.</li>
</ul>

<h4 id="https-load-balancers">HTTPS Load Balancers</h4>

<ul>
  <li>Load balancer that uses the SSL/TLS protocol for encrypted connections (also known as <strong><em>SSL offload</em></strong>).</li>
  <li>This feature enables traffic encryption between your load balancer and the clients that initiate HTTPS sessions, and for connections between your load balancer and your back-end instances.</li>
  <li>Elastic Load Balancing provides security policies that have predefined SSL negotiation configurations to use to negotiate connections between clients and the load balancer. In order to use SSL, you must install an SSL certificate on the load balancer that it uses to terminate the connection and then decrypt requests from clients before sending requests to the back-end EC2 instances.</li>
  <li>You can optionally choose to enable authentication on your back-end instances.</li>
  <li>ELB does not support <em>Server Name Indication (SNI)</em> on your load balancer. This means that if you want to host multiple websites on a fleet of EC2 instances behind ELB with a single SSL certificate, you will need to add a <em>Subject Alternative Name (SAN)</em> for each website to the certificate to avoid site users seeing a warning message when the site is accessed.</li>
</ul>

<h4 id="listeners">Listeners</h4>

<ul>
  <li>A listener is a process that checks for connection requests—for example, a CNAME configured to the A record name of the load balancer.</li>
  <li>Every load balancer must have one or more listeners configured.</li>
  <li>Every listener is configured with
    <ul>
      <li>a protocol and a port (client to load balancer) for a front-end connection</li>
      <li>a protocol and a port for the back-end (load balancer to EC2 instance) connection.</li>
    </ul>
  </li>
  <li>ELB supports protocols operating at two different Open System Interconnection (OSI) layers.
    <ul>
      <li>In the OSI model, Layer 4 is the transport layer that describes the TCP connection between the client and your back-end instance through the load balancer. Layer 4 is the lowest level that is configurable for your load
balancer.</li>
      <li>Layer 7 is the application layer that describes the use of HTTP and HTTPS connections from clients to the load balancer and from the load balancer to your back-end instance.</li>
    </ul>
  </li>
  <li>The SSL protocol is primarily used to encrypt confidential data over insecure networks such as the Internet. The SSL protocol establishes a secure connection between a client and the back-end server and ensures that all the data passed between your client and your server is private.</li>
</ul>

<h3 id="elb-configurations">ELB Configurations</h3>

<h4 id="idle-connection-timeout">Idle Connection Timeout</h4>

<ul>
  <li>For each request that a client makes through a load balancer, the load balancer maintains two connections.
    <ul>
      <li>Connection 1: with the client</li>
      <li>Connection 2: to the back-end instance</li>
    </ul>
  </li>
  <li>For each connection, the load balancer manages an idle timeout that is triggered when no data is sent over the connection for a specified time period. After the idle timeout period has elapsed, if no data has been sent or received, the load balancer closes the connection.</li>
  <li>Default idle timeout for both connections = 60 seconds. This can be modified.</li>
  <li>If an HTTP request doesn’t complete within the idle timeout period, the load balancer closes the connection, even if data is still being transferred.</li>
  <li><strong><em>Keep-alive</em></strong>
    <ul>
      <li>If you use HTTP and HTTPS listeners, we recommend that you enable the <em>keep-alive</em> option for your EC2 instances. You can enable keep-alive in your web server settings or in the kernel settings for your EC2 instances.</li>
      <li>Keep-alive, when enabled, allows the load balancer to reuse connections to your back-end instance, which reduces CPU utilization.</li>
      <li>To ensure that the load balancer is responsible for closing the connections to your back-end instance, make sure that the value you set for the keep-alive time is greater than the idle timeout setting on your load balancer.</li>
    </ul>
  </li>
</ul>

<h4 id="cross-zone-load-balancing">Cross-Zone Load Balancing</h4>

<ul>
  <li>To ensure that request traffic is routed evenly across all back-end instances for your load balancer, regardless of the Availability Zone in which they are located, you should enable <em>cross-zone load balancing</em> on your load balancer.</li>
  <li>Cross-zone load balancing reduces the need to maintain equivalent numbers of back-end instances in each Availability Zone and improves your application’s ability to handle the loss of one or more back-end instances.</li>
  <li>However, it is still recommended that you maintain approximately equivalent numbers of instances in each Availability Zone for higher fault tolerance.</li>
  <li>For environments where clients cache DNS lookups, incoming requests might favor one of the Availability Zones. Using cross-zone load balancing, this imbalance in the request load is spread across all available back-end instances in the region, reducing the impact of misconfigured clients.</li>
</ul>

<h4 id="connection-draining">Connection Draining</h4>

<ul>
  <li>To ensure that the load balancer stops sending requests to instances that are deregistering or unhealthy, while keeping the existing connections open. This enables the load balancer to complete in-flight requests made to these instances.</li>
  <li>When you enable connection draining, you can specify a maximum time for the load balancer to keep connections alive before reporting the instance as deregistered.</li>
  <li>The maximum timeout value can be set between 1 and 3,600 seconds (the default is 300 seconds).</li>
  <li>When the maximum time limit is reached, the load balancer forcibly closes connections to the deregistering instance.</li>
</ul>

<h4 id="proxy-protocol">Proxy Protocol</h4>

<ul>
  <li>When you use TCP or SSL for both front-end and back-end connections, your load balancer forwards requests to the back-end instances without modifying the request headers.</li>
  <li>If you enable <em>Proxy Protocol</em>, a human-readable header is added to the request header with connection information such as the source IP address, destination IP address, and port numbers. The header is then sent to the back-end instance as part of the request.</li>
  <li>Before using Proxy Protocol, verify that your load balancer is not behind a proxy server with Proxy Protocol enabled. If Proxy Protocol is enabled on both the proxy server and the load balancer, the load balancer adds another header to the request, which already has a header from the proxy server. Depending on how your back-end instance is configured, this duplication might result in errors.</li>
</ul>

<h4 id="sticky-sessions">Sticky Sessions</h4>

<ul>
  <li>By default, a load balancer routes each request independently to the registered instance with the smallest load. However, you can use the sticky session feature (also known as session affinity), which enables the load balancer to bind a user’s session to a specific instance. This ensures that all requests from the user during the session are sent to the same instance.</li>
  <li>The key to managing sticky sessions is to determine how long your load balancer should consistently route the user’s request to the same instance. If your application has its own session cookie, you can configure ELB so that the session cookie follows the duration specified by the application’s session cookie.</li>
  <li>If your application does not have its own session cookie, you can configure ELB to create a session cookie by specifying your own stickiness duration.</li>
  <li>ELB creates a cookie named <em>AWSELB</em> that is used to map the session to the instance.</li>
</ul>

<h4 id="health-checks">Health Checks</h4>

<ul>
  <li>ELB supports health checks to test the status of the EC2 instances behind an ELB load balancer.</li>
  <li>If healthy, status = <em>InService</em>, else <em>OutOfService</em>.</li>
  <li>The load balancer performs health checks on all registered instances to determine whether the instance is in a healthy state or an unhealthy state.</li>
  <li>A health check is a ping, a connection attempt, or a page that is checked periodically.</li>
  <li>You can set the time interval between health checks and also the amount of time to wait to respond in case the health check page includes a computational aspect.</li>
  <li>Finally, you can set a threshold for the number of consecutive health check failures before an instance is marked as unhealthy.</li>
</ul>

<h2 id="aws-elastic-beanstalk">AWS Elastic Beanstalk</h2>

<ul>
  <li>Developers can simply upload their application code, and the service automatically handles all the details, such as resource provisioning, load balancing, Auto scaling, and monitoring.</li>
</ul>

<h2 id="aws-virtual-private-cloud-vpc">AWS Virtual Private Cloud (VPC)</h2>

<p><img class="right" src="/technology/aws-vpc-sample.png" /></p>

<ul>
  <li>VPC is a custom-defined virtual network within AWS cloud</li>
  <li>VPC is the networking layer for EC2</li>
  <li>2 networking platforms in AWS
    <ul>
      <li>EC2-Classic (old) - single, flat n/w shared with other customers</li>
      <li>EC2-VPC</li>
    </ul>
  </li>
  <li>VPC consists of
    <ul>
      <li>Subnets</li>
      <li>Route tables</li>
      <li>DHCP option sets</li>
      <li>Security groups</li>
      <li>Network ACLs</li>
      <li>Internet Gateways (<em>optional</em>)</li>
      <li>EIP addresses (<em>optional</em>)</li>
      <li>Elastic Network Interfaces ENIs (<em>optional</em>)</li>
      <li>Endpoints (<em>optional</em>)</li>
      <li>Peering (<em>optional</em>)</li>
      <li>NAT instances and NAT gateways (<em>optional</em>)</li>
      <li>Virtual Private Gateways (VPGs), Customer Gateways (CGWs), VPNs</li>
      <li>(<em>optional</em>)</li>
    </ul>
  </li>
  <li>VPC allows to
    <ul>
      <li>select your own IP address range</li>
      <li>create your own subnets</li>
      <li>configure your own route tables, n/w gateways and security settings</li>
    </ul>
  </li>
  <li>Within a region, you can create multiple VPCs. Each VPC is logically isolated even if it shared its IP address space</li>
  <li>VPC can span across Availability Zones</li>
  <li>To create a VPC, choose CIDR block
    <ul>
      <li>which cannot be changed after creation</li>
      <li>As large as <em>/16 (65,636 addresses)</em> or as small as <em>/28 (16 addresses)</em>.</li>
      <li>Should not overlap</li>
    </ul>
  </li>
  <li>Every account has a default VPC created in each region with a default subnet created in each Availability Zone.
    <ul>
      <li>The assigned CIDR block of the VPC will be <em>172.31.0.0/16</em></li>
      <li>Default VPCs contain one public subnet in every Availability Zone with the region, with a netmask of <em>/20</em></li>
    </ul>
  </li>
  <li>Orgs can extend their corporate data center n/w to AWS by using h/w or s/w VPN connections or dedicated circuits by using AWS Direct Connect.</li>
</ul>

<h3 id="subnets">Subnets</h3>

<ul>
  <li>A subnet is a segment of VPC’s IP address range where you can launch EC2 instances, RDS databases, etc.</li>
  <li>CIDR blocks defines subnets</li>
  <li>Smallest subnet you can create is a <em>/28 (16 addresses)</em>.
    <ul>
      <li>AWS reserves the first 4 addresses and the last IP address of every subnet for internal networking purposes. So, <code>16-4-1 = 11</code> IP addresses is the smallest subnet.</li>
    </ul>
  </li>
  <li>Subnets reside within one Availability Zone. CANNOT span across zones or regions.</li>
  <li>One Availability Zone can have multiple subnets</li>
  <li>Internal IP address range of the subnet is always <em>private</em></li>
  <li>Subnets can be classified as one of the below
    <ul>
      <li><strong>Public</strong> : route table directs the subnet’s traffic to VPC’s IGW</li>
      <li><strong>Private</strong>: route table DOES NOT direct the traffic to VPC’s IGW</li>
      <li><strong>VPN-only</strong>: route table DOES NOT direct the traffic to VPC’s IGW, but to the VPC’s VPG</li>
    </ul>
  </li>
</ul>

<h3 id="route-tables">Route Tables</h3>

<ul>
  <li>contains a set of rules called <em>rules</em> that are applied to subnets to determine where the network traffic is directed</li>
  <li>allows EC2 instances in different subnets within a VPC to communicate with each other</li>
  <li>Route tables can be used to specify
    <ul>
      <li>which subnets are public (by directing Internet traffic to IGW)</li>
      <li>which subnets are private (by not having a route that directs to IGW)</li>
    </ul>
  </li>
  <li>Each route table
    <ul>
      <li>has a default route called the <em>local route</em>, which enables communication within the VPC. This route cannot be modified or removed.</li>
      <li>custom routes can be added to exit the VPC via IGW, VPG or the NAT instance</li>
    </ul>
  </li>
  <li>Each VPC comes with a main router table that can be modified.</li>
  <li>Custom route tables can be added, and subsequent new subnets created will be automatically associated with this custom route table</li>
  <li>Each subnet must be associated with a route table</li>
  <li>Each route in a table specifies a destination CIDR.</li>
</ul>

<h3 id="igw-internet-gateways">IGW (Internet Gateways)</h3>

<p><img class="right" src="/technology/aws-igw.png" /></p>

<ul>
  <li>IGW allows communication between instances in VPC and the Internet.</li>
  <li>IGW is horizontally scaled, redundant, and highly available VPC component</li>
  <li>To route traffic subnets to Internet, route tables must have a route targeting the IGW</li>
  <li>To enable an EC2 instance to send/receive traffic from the Internet, assign a public IP address or EIP address</li>
  <li>IGW maintains the 1-to-1 map of the EC2 instance’s private IP and public IP.</li>
  <li>EC2 instances within a VPC are only aware of their private IPs. When traffic is sent from the instance to the Internet, the IGW translates the reply address to the public IP address of the instance.</li>
  <li>To create a public subnet with Internet access
    <ul>
      <li>Attach an IGW to your VPC</li>
      <li>Create a subnet route table<br />
        <ul>
          <li>rule to route all non-local traffic (<em>0.0.0.0/0</em>) to the IGW</li>
          <li>(optional) rule to route all destinations not explicitly defined in the route table to IGW</li>
        </ul>
      </li>
      <li>Configure your n/w ACLs and security group rules to allow relevant traffic flow to and from your instance</li>
    </ul>
  </li>
</ul>

<h3 id="dhcp">DHCP</h3>

<ul>
  <li>DHCP - a standard for passing configuration information to hosts on a TCP/IP n/w</li>
  <li>Following options can be configured within a DHCP message:
    <ul>
      <li><strong>DNS servers</strong> - IP addresses of up to 4 DNS servers.</li>
      <li><strong>Domain name</strong> - e.g., <em>mycompany.com</em></li>
      <li><strong>ntp-servers</strong> - IP addresses of up to 4 NTP (Network Time Protocol) servers</li>
      <li><strong>netbios-name-servers</strong> - IP addresses of up to 4 NetBIOS name servers</li>
      <li><strong>netbios-node-type</strong> - set this to 2</li>
    </ul>
  </li>
  <li>Upon a VPC creation, AWS automatically associates a DHCP option set to it, and sets 2 options
    <ul>
      <li>DNS servers (defaulted to <em>AmazonProvidedDNS</em>. This option enables DNS for instances that need to communicate over the VPC’s IGW)</li>
      <li>Domain name (defaulted to domain name of your region)</li>
    </ul>
  </li>
  <li>To assign your own domain name to your instances, create a custom DHCP option set and assign it to your VPC</li>
  <li>Each VPC must have only one DHCP option set assigned to it.</li>
</ul>

<h3 id="eips-elastic-ip-addresses">EIPs (Elastic IP Addresses)</h3>

<ul>
  <li>An Elastic IP Addresses (EIP) is a static, public IP address in the pool for the region that you can allocate to your account (pull from the pool) and release (return to the pool).</li>
  <li>EIPs allow you to maintain a set of IP addresses that remain fixed while the underlying infrastructure may change over time.</li>
  <li>You must first allocate an EIP for use within a VPC and then assign it to an instance.</li>
  <li>EIPs are specific to a region (that is, an EIP in one region cannot be assigned to an instance within an VPC in a different region).</li>
  <li>There is a one-to-one relationship between network interfaces and EIPs.</li>
  <li>You can move EIPs from one instance to another, either in the same VPC or a different VPC within the same region.</li>
  <li>EIPs remain associated with your AWS account until you explicitly release them.</li>
  <li>There are charges for EIPs allocated to your account, even when they are not associated with a resource.</li>
</ul>

<h3 id="enis-elastic-network-interfaces">ENIs (Elastic Network Interfaces)</h3>

<ul>
  <li>An ENI is a virtual network interface that you can attach to an instance in an VPC.</li>
  <li>ENIs are only available within an VPC, and they are associated with a subnet upon creation.</li>
  <li>They can have 1 public IP address, 1 primary private IP and multiple non-primary private IPs.</li>
  <li>Assigning a second network interface to an instance via an ENI allows it to be <em>dual-homed</em> (have network presence in different subnets).</li>
  <li>An ENI created independently of a particular instance persists regardless of the lifetime of any instance to which it is attached; if an underlying instance fails, the IP address may be preserved by attaching the ENI to a replacement instance.</li>
</ul>

<h3 id="endpoints">Endpoints</h3>

<ul>
  <li>An VPC endpoint enables you to create a private connection between your VPC and another AWS service without requiring access over the Internet or through a NAT instance, VPN connection, or AWS Direct Connect.</li>
  <li>Multiple endpoints can be created for a single service, and use different route tables to enforce different access policies from different subnets to the same service.</li>
  <li>To create an VPC endpoint:
    <ul>
      <li>Specify the <strong>VPC</strong>.</li>
      <li>Specify the <strong>service</strong>. A service is identified by a prefix list of the form <code>com.amazonaws.&lt;region&gt;.&lt;service&gt;</code>.</li>
      <li>Specify the <strong>policy</strong>. You can allow full access or create a custom policy. This policy can be changed at any time.</li>
      <li>Specify the <strong>route tables</strong>. A route will be added to each specified route table, which will state the service as the destination and the endpoint as the target.</li>
    </ul>
  </li>
</ul>

<p>Below route table directs all Internet traffic (0.0.0.0/0) to an IGW. Any traffic destined to another service will also be sent to the IGW in order to reach that service.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Destination</th>
      <th style="text-align: left">Target</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">10.0.0.0/16</td>
      <td style="text-align: left">Local</td>
    </tr>
    <tr>
      <td style="text-align: left">0.0.0.0/0</td>
      <td style="text-align: left">igw-1a2b3c4d</td>
    </tr>
  </tbody>
</table>

<p>Below route table adds the route to direct S3 traffic to the VPC Endpoint</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Destination</th>
      <th style="text-align: left">Target</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">10.0.0.0/16</td>
      <td style="text-align: left">Local</td>
    </tr>
    <tr>
      <td style="text-align: left">0.0.0.0/0</td>
      <td style="text-align: left">igw-1a2b3c4d</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>p1-1a2b3c4d</strong></td>
      <td style="text-align: left"><strong>vpce-1a2b3c4d</strong></td>
    </tr>
  </tbody>
</table>

<h3 id="peering">Peering</h3>

<ul>
  <li>An VPC peering connection is a networking connection between two VPCs that enables instances in either VPC to communicate with each other as if they are within the same network.</li>
  <li>Peering connection can be created
    <ul>
      <li>between your own VPCs or</li>
      <li>with an VPC in another AWS account within a single region.</li>
    </ul>
  </li>
  <li>A peering connection is neither a gateway nor an Amazon VPN connection and does not introduce a single point of failure for communication.</li>
  <li>Peering connections are created through a <em>request/accept</em> protocol. The owner of the requesting VPC sends a request to peer to the owner of the peer VPC.
    <ul>
      <li>If the peer VPC is within the same account, it is identified by its <em>VPC ID</em>.</li>
      <li>If the peer VPC is within a different account, it is identified by <em>Account ID</em> and <em>VPC ID</em>.</li>
    </ul>
  </li>
  <li>The owner of the peer VPC has one week to accept or reject the request before it expires.</li>
  <li>A VPC may have multiple peering connections, and peering is a one-to-one relationship between VPC.</li>
  <li>Peering connections DO NOT support <em>transitive routing</em>. In other words, if there are peering connections between VPC A &amp; B, and VPC B &amp; C, it does NOT mean VPC A &amp; C can peer directly with each other.</li>
  <li>A peering connection CANNOT be created between VPCs that have matching or overlapping CIDR blocks.</li>
  <li>A peering connection CANNOT be created between VPCs in different regions.</li>
  <li>There CANNOT have more than one peering connection between the same two VPCs at the same time.</li>
</ul>

<h3 id="security-groups">Security Groups</h3>

<ul>
  <li>A security group is a virtual stateful firewall that controls inbound and outbound network traffic to AWS resources and EC2 instances.</li>
  <li>All EC2 instances MUST be launched into a security group.</li>
  <li><strong>Default Security Group</strong>
    <ul>
      <li>If an SG is not specified at launch, then the instance will be launched into the <em>default SG</em> for the VPC.</li>
      <li>The default SG allows communication between all resources within the security group,
        <ul>
          <li>allows all outbound traffic, and</li>
          <li>denies all other traffic.</li>
        </ul>
      </li>
      <li>Default SG CANNOT be deleted.</li>
      <li>Rules in default SG can be changed.</li>
    </ul>
  </li>
  <li>Up to 500 SGs can be created per VPC.</li>
  <li>Up to 50 inbound and 50 outbound rules can be added per SG.</li>
  <li>Up to 5 SGs can be associated per Network Interface.</li>
  <li>To apply more than 100 rules to an instance, associate multiple SGs.</li>
  <li>You can specify <em>allow rules</em>, but NOT <em>deny rules</em>. This is an important difference between SGs and ACLs.</li>
  <li>can specify separate rules for inbound and outbound traffic.</li>
  <li>By default, no inbound traffic is allowed until added.</li>
  <li>By default, new SGs have an outbound rule that allows all outbound traffic. You can remove the rule and add your custom rules.</li>
  <li>SGs are stateful. This means that responses to allowed inbound traffic are allowed to flow outbound regardless of outbound rules and vice versa. This is an important difference between security groups and network ACLs.</li>
  <li>Instances associated with the same security group CANNOT talk to each other unless you add rules allowing it (with the exception being the default security group).</li>
  <li>SGs associated with an instance can be changed after launch, and changes will take effect immediately.</li>
</ul>

<p><strong>Sample Security Group</strong></p>

<p><strong>Inbound</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Inbound</th>
      <th style="text-align: left">Source</th>
      <th style="text-align: left">Protocol</th>
      <th style="text-align: left">Port Range</th>
      <th style="text-align: left">Comments</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">sg-xxxxxxxx</td>
      <td style="text-align: left">All</td>
      <td style="text-align: left">All</td>
      <td style="text-align: left">Allow inbound traffic from instances within the same SG</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">0.0.0.0/0</td>
      <td style="text-align: left">TCP</td>
      <td style="text-align: left">8</td>
      <td style="text-align: left">Allow inbound traffic from the Internet port 80</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Outbound</th>
      <th style="text-align: left">Destination</th>
      <th style="text-align: left">Protocol</th>
      <th style="text-align: left">Port Range</th>
      <th style="text-align: left">Comments</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">0.0.0.0/0</td>
      <td style="text-align: left">All</td>
      <td style="text-align: left">All</td>
      <td style="text-align: left">Allow all outbound traffic</td>
    </tr>
  </tbody>
</table>

<h3 id="network-acls-access-control-lists">Network ACLs (Access Control Lists)</h3>

<ul>
  <li>ACL is a stateless firewall on a subnet level.</li>
  <li>This is another layer of security in addition to SGs.</li>
  <li>A network ACL is a numbered list of rules that AWS evaluates in order, starting with the lowest numbered rule, to determine whether traffic is allowed in or out of any subnet associated with the network ACL.</li>
  <li>VPCs are created with a modifiable default network ACL associated with every subnet that allows all inbound and outbound traffic.</li>
  <li>When you create a custom network ACL, its initial configuration will deny all inbound and outbound traffic</li>
  <li>You may set up network ACLs with rules similar to your security groups in order to add a layer of security to your VPC, or you may choose to use the default network ACL that does not filter traffic traversing the subnet boundary.</li>
  <li>Overall, every subnet must be associated with a network ACL.</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Security Group</th>
      <th style="text-align: left">Network ACL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Operates at the instance level (1st layer of defense)</td>
      <td style="text-align: left">Operates at the subnet level (2nd layer of defense)</td>
    </tr>
    <tr>
      <td style="text-align: left">Supports <em>allow</em> rules only</td>
      <td style="text-align: left">Supports both <em>allow</em> and <em>deny</em> rules</td>
    </tr>
    <tr>
      <td style="text-align: left">Stateful firewall: Return traffic automatically allowed</td>
      <td style="text-align: left">Stateless firewall: Return traffic must be explicitly allowed by rules</td>
    </tr>
    <tr>
      <td style="text-align: left">AWS evaluates all rules before deciding whether to allow traffic</td>
      <td style="text-align: left">AWS processes rules in number order when deciding whether to allow traffic</td>
    </tr>
    <tr>
      <td style="text-align: left">Applied selectively to individual instances</td>
      <td style="text-align: left">Automatically applied to all instances in the associated subnets; this is a backup layer of defense, so you don’t have to rely on someone specifying the security group</td>
    </tr>
  </tbody>
</table>

<h3 id="nat-instances-network-address-translation">NAT Instances (Network Address Translation)</h3>

<ul>
  <li>NAT instances and NAT gateways allow instances deployed in private subnets to gain Internet access.</li>
  <li>By default, any instance that you launch into a private subnet in an VPC is not able to communicate with the Internet through the IGW.</li>
  <li>NAT instance is an Amazon Linux AMI designed to accept traffic from instances within a private subnet, translate the source IP address to the public IP address of the NAT instance, and forward the traffic to the IGW.</li>
  <li>In addition, the NAT instance maintains the state of the forwarded traffic in order to return response traffic from the Internet to the proper instance in the private subnet.</li>
  <li>These instances have the string <code>amzn-ami-vpc-nat</code> in their names, which is searchable in the EC2 console.</li>
  <li>To allow instances within a private subnet to access Internet resources through the IGW via a NAT instance, you must do the following:
    <ul>
      <li>Create a security group for the NAT with outbound rules that specify the needed Internet resources by port, protocol, and IP address.</li>
      <li>Launch an Amazon Linux NAT AMI as an instance in a public subnet and associate it with the NAT security group.</li>
      <li>Disable the Source/Destination Check attribute of the NAT.</li>
      <li>Configure the route table associated with a private subnet to direct Internet-bound traffic to the NAT instance (for example, i-1a2b3c4d).</li>
      <li>Allocate an EIP and associate it with the NAT instance.</li>
      <li>This configuration allows instances in private subnets to send outbound Internet communication, but it prevents the instances from receiving inbound traffic initiated by someone on the Internet.</li>
    </ul>
  </li>
</ul>

<h3 id="nat-gateways">NAT Gateways</h3>

<ul>
  <li>A NAT gateway is an Amazon managed resource that is designed to operate just like a NAT instance, but it is simpler to manage, requires less administrative effort and highly available within an Availability Zone.</li>
  <li>For common use cases, use a NAT gateway instead of a NAT instance.</li>
  <li>To allow instances within a private subnet to access Internet resources through the IGW via a NAT gateway, you must do the following:
    <ul>
      <li>Configure the route table associated with the private subnet to direct Internet-bound traffic to the NAT gateway (for example, nat-1a2b3c4d).</li>
      <li>Allocate an EIP and associate it with the NAT gateway.</li>
    </ul>
  </li>
  <li>Like a NAT instance, this managed service allows outbound Internet communication and prevents the instances from receiving inbound traffic initiated by someone on the Internet.</li>
  <li>To create an Availability Zone-independent architecture, create a NAT gateway in each Availability Zone and configure your routing to ensure that resources use the NAT gateway in the same Availability Zone.</li>
</ul>

<h3 id="vpgs-cgws-and-vpns">VPGs, CGWs and VPNs</h3>

<p><img class="right" src="/technology/aws-vpg-vpn.PNG" /></p>

<ul>
  <li>VPC offers two ways to connect a corporate network to a VPC: VPG and CGW.</li>
  <li><strong>VPG (Virtual Private Gateway)</strong>
    <ul>
      <li>is the virtual private network (VPN) concentrator on the AWS side of the VPN connection between the two networks.</li>
      <li>The VPG is the AWS end of the VPN tunnel.</li>
      <li>VPGs support both dynamic routing with <em>Border Gateway Protocol (BGP)</em> and static routing.</li>
    </ul>
  </li>
  <li><strong>Customer gateway (CGW)</strong>
    <ul>
      <li>The CGW is a hardware or software application on the customer’s side of the VPN tunnel.</li>
      <li>VPC will provide the information needed by the network administrator to configure the CGW and establish the VPN connection with the VPG.</li>
      <li>VPC also supports multiple CGWs, each having a VPN connection to a single VPG (many-to-one design). In order to support this topology, the CGW IP addresses must be unique within the region.</li>
    </ul>
  </li>
  <li><strong>Virtual Private Network (VPN)</strong>
    <ul>
      <li>After these VPG and CGW are created, the last step is to create a VPN tunnel.</li>
      <li>VPN tunnel MUST be initiated from the CGW to the VPG.</li>
      <li>You must specify the type of routing that you plan to use when you create a VPN connection.
        <ul>
          <li>If the CGW supports <em>Border Gateway Protocol (BGP)</em>, then configure the VPN connection for dynamic routing.</li>
          <li>Otherwise, configure the connections for static routing. If you will be using static routing, you must enter the routes for your network that should be communicated to the VPG. Routes will be propagated to the VPC to allow your resources to route network traffic back to the corporate network through the VGW and across the VPN tunnel.</li>
        </ul>
      </li>
      <li>The VPN connection consists of two <em>Internet Protocol Security (IPSec)</em> tunnels for higher availability to the VPC.</li>
    </ul>
  </li>
</ul>

<h2 id="aws-direct-connect">AWS Direct Connect</h2>

<ul>
  <li>allows organizations to establish a dedicated n/w connection from their data center to AWS.</li>
</ul>

<h2 id="amazon-route-53">Amazon Route 53</h2>

<ul>
  <li>is a highly available and scalable DNS web service. Also serves as domain registrar, allowing you to purchase and manage domains directly from AWS</li>
</ul>

<hr />

<h1 id="database-service">Database service</h1>

<h2 id="amazon-dynamodb">Amazon DynamoDB</h2>

<ul>
  <li>document and key/value NoSQL DB service - single-digit millisecond latency at any scale</li>
</ul>

<h2 id="amazon-redshift">Amazon Redshift</h2>

<ul>
  <li>columnar DB - petabyte-scale data warehouse service to analyze structured data - by leveraging columnar storage technology it can run parallelized queries across multiple nodes</li>
</ul>

<h2 id="amazon-elasticcache">Amazon ElasticCache</h2>

<ul>
  <li>a web service that simplifies scaling of an in-memory cache in the cloud - supports Memcached and Redis cache engines</li>
</ul>

<hr />

<h1 id="management-tools">Management Tools</h1>

<h2 id="amazon-cloudwatch">Amazon CloudWatch</h2>

<ul>
  <li>monitoring service for AWS cloud resources and the applications running on AWS</li>
  <li>CloudWatch is a service that you can use to monitor your AWS resources and your applications in real time.</li>
  <li>With CloudWatch, you can collect and track metrics, create alarms that send notifications, and make changes to the resources being monitored based on rules you define.</li>
  <li>For example, you might choose to monitor CPU utilization to decide when to add or remove EC2 instances in an application tier. Or, if a particular application-specific metric that is not visible to AWS is the best indicator for assessing your scaling needs, you can perform a PUT request to push that metric into CloudWatch.</li>
  <li>You can then use this custom metric to manage capacity.</li>
  <li>You can specify parameters for a metric over a time period and configure alarms and automated actions when a threshold is reached. CloudWatch supports multiple types of actions such as sending a notification to an SNS topic or executing an Auto Scaling policy.</li>
  <li>
    <p>CloudWatch offers either basic or detailed monitoring for supported AWS products. Basic monitoring sends data points to CloudWatch every five minutes for a limited number of preselected metrics at no charge.</p>
  </li>
  <li>
    <p><em>Detailed monitoring</em> sends data points to CloudWatch every minute and allows data aggregation for an additional charge. If you want to use detailed monitoring, you must enable it—basic is the default.</p>
  </li>
  <li><strong>Read Alert</strong>
    <ul>
      <li>You may have an application that leverages DynamoDB, and you want to know when read requests reach a certain threshold and alert yourself with an email. You can do this by using <code>ProvisionedReadCapacityUnits</code> for the DynamoDB table for which you want to set an alarm. You simply set a threshold value during a number of consecutive periods and then specify email as the notification type. Now, when the threshold is sustained over the number of periods, your specified email will alert you to the read activity.</li>
    </ul>
  </li>
  <li>CloudWatch metrics can be retrieved by performing a GET request. When you use detailed monitoring, you can also aggregate metrics across a length of time you specify. CloudWatch does not aggregate data across regions but can aggregate across Availability Zones within a region.</li>
  <li>AWS provides a rich set of metrics included with each service, but you can also define custom metrics to monitor resources and events AWS does not have visibility into—for example, EC2 instance memory consumption and disk metrics that are visible to the operating system of the EC2 instance but not visible to AWS or application-specific thresholds running on instances that are not known to AWS. CloudWatch supports an API that allows programs and scripts to PUT metrics into CloudWatch as name-value pairs that can then be used to create events and trigger alarms in the same manner as the default CloudWatch metrics.</li>
  <li>CloudWatch Logs can be used to monitor, store, and access log files from EC2 instances, AWS CloudTrail, and other sources. You can then retrieve the log data and monitor in real time for events—for example, you can track the number of errors in your application logs and send a notification if an error rate exceeds a threshold. CloudWatch Logs can also be used to store your logs in S3 or Glacier. Logs can be retained indefinitely or according to an aging policy that will delete older logs as no longer needed.</li>
  <li>A CloudWatch Logs agent is available that provides an automated way to send log data to CloudWatch Logs for EC2 instances running Amazon Linux or Ubuntu. You can use the CloudWatch Logs agent installer on an existing EC2 instance to install and configure the CloudWatch Logs agent. After installation is complete, the agent confirms that it has started and it stays running until you disable it.</li>
  <li>CloudWatch has some limits that you should keep in mind when using the service. Each AWS account is limited to <em>5,000 alarms per AWS account</em>, and metrics data is retained for two weeks by default (at the time of this writing). If you want to keep the data longer, you will need to move the logs to a persistent store like S3 or Glacier. You should familiarize yourself with the limits for CloudWatch in the CloudWatch Developer Guide.</li>
</ul>

<h2 id="aws-cloudformation">AWS CloudFormation</h2>

<ul>
  <li>defines a JSON-based templating language that can be used to describe all the AWS resources needed for a workload. When templates are submitted to the AWS CloudFormation, it will take care of provisioning and configuring those resources in appropriate order</li>
</ul>

<h2 id="aws-cloudtrail">AWS CloudTrail</h2>

<ul>
  <li>a web service that records AWS API calls for an account and delivers log files for audit and review.</li>
</ul>

<h2 id="aws-config">AWS Config</h2>

<ul>
  <li>With this, one can export an inventory of their AWS resources with all configuration details, and determine how a resource was configured at any point in time - enables compliance auditing, security analysis, resource change tracking, and troubleshooting.</li>
</ul>

<hr />

<h1 id="security-and-identity">Security and Identity</h1>

<h2 id="aws-identity-and-access-manager-iam">AWS Identity and Access Manager (IAM)</h2>

<ul>
  <li>enables organizations to create and manage AWS users and groups and use permissions to allow and deny their access to AWS resources.</li>
</ul>

<h2 id="aws-key-management-service-kms">AWS Key Management Service (KMS)</h2>

<ul>
  <li>enables organizations to create and control the encryption keys used to encrypt their data and uses Hardware Security Modules (HSM) to protect the security of the keys.</li>
</ul>

<h2 id="aws-directory-service">AWS Directory Service</h2>

<ul>
  <li>allows organizations to set up and run Microsoft Active Directory on the AWS cloud or connect their AWS resources with an existing on-premises Microsoft Active Directory.</li>
</ul>

<h2 id="aws-certificate-manager">AWS Certificate Manager</h2>

<ul>
  <li>is a service that lets organizations easily provision, manage and deploy SSL/TLS certificates for use with AWS cloud services. It removes the time-consuming manual process of purchasing, uploading and renewing certificates - enables to quickly request a certificate, deploy it on AWS and let AWS Certificate Manager handle certificate renewals</li>
</ul>

<h2 id="aws-web-application-firewall-waf">AWS Web Application Firewall (WAF)</h2>

<ul>
  <li>helps protect web apps from common attacks</li>
</ul>

<hr />

<h1 id="application-services">Application Services</h1>

<h2 id="amazon-api-gateway">Amazon API Gateway</h2>

<ul>
  <li>a fully managed service that makes it easy to create, publish, maintain, monitor and secure APIs at any scale - handles all the tasks involved in accepting and processing up to hundreds of thousands of concurrent API calls, including traffic management, monitoring, authorization and access control, API version management.</li>
</ul>

<h2 id="amazon-elastic-transcoder">Amazon Elastic Transcoder</h2>

<ul>
  <li>media transcoder that converts media files from their source formats into versions that will play back on specific devices</li>
</ul>

<h2 id="amazon-simple-notification-service-sns">Amazon Simple Notification Service (SNS)</h2>

<ul>
  <li>is a web service that coordinates and manages the delivery of messages to recipients.</li>
</ul>

<h2 id="amazon-simple-email-service-ses">Amazon Simple Email Service (SES)</h2>

<h2 id="amazon-simple-workflow-service-swf">Amazon Simple Workflow Service (SWF)</h2>

<ul>
  <li>helps build, run and scale background jobs that have parallel or sequential steps - has fully managed state tracker and task coordinator on the cloud - provides ability to recover or retry if a task fails.</li>
</ul>

<h2 id="amazon-simple-queue-service-sqs">Amazon Simple Queue Service (SQS)</h2>

<ul>
  <li>managed message queueing service</li>
</ul>

<hr />

<h1 id="terminology">Terminology</h1>

<ul>
  <li>Network perimeter - a boundary between two or more portions of a network. It can refer to the boundary between your VPC and your network, it could refer to the boundary between what you manage versus what AWS manages.</li>
  <li>
    <p>WAF (Web Application Firewall)</p>
  </li>
  <li>NAT (Network Address Translation) instances and NAT Gateways - allows EC2 instances deployed in private subnets to gain Internet access</li>
</ul>

<h1 id="references">References</h1>

<ul>
  <li>Books
    <ul>
      <li>AWS Certified Solution Architect - Study Guide</li>
    </ul>
  </li>
  <li>CloudAcademy.com
    <ul>
      <li><a href="https://cloudacademy.com/amazon-web-services/aws-technical-fundamentals-aws-110-course">AWS Technical Foundation 110</a></li>
      <li>AWS Technical Foundation 120</li>
      <li>AWS Technical Foundation 140</li>
      <li>AWS Technical Foundation 160</li>
      <li>AWS Technical Foundation 180</li>
      <li>AWS Technical Foundation 190</li>
      <li><a href="https://cloudacademy.com/amazon-web-services/foundations-for-solutions-architect-associate-on-aws-course/">Foundations for Solutions Architect Associate on AWS course</a></li>
    </ul>
  </li>
</ul>

  
    <footer>
      
      
        <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://fizalihsan.github.io/technology/aws.html" data-via="fizalihsan" data-counturl="http://fizalihsan.github.io/technology/aws.html" >Tweet</a>
  
  
  
</div>

      
    </footer>
  
</article>

</div>

<aside class="sidebar">
  
    <section>

	<br/><br/>
	<ul>
		<h2>Technical</h2>

		<li>
			<h3>Architecture</h3>
			<a href="/technology/architecture.html">Overview</a>  |  <a href="/technology/coding-principles.html">Coding Principles</a>  |  <a href="/technology/design-principles.html">Design Principles</a>  |  <a href="/technology/lambda-architecture.html">Lambda Architecture</a>  |  <a href="/technology/logging-and-monitoring.html">Logging &amp; Monitoring</a>  |  <a href="/technology/patterns.html">Patterns</a>  |  <a href="/technology/sdlc.html">SDLC</a>
			  |  <a href="/technology/scalability.html">Scalability</a>  |  <a href="/technology/security.html">Security</a>  |  <a href="/technology/transaction.html">Transactions</a>
		</li>

		<li>
			<h3>BigData</h3>
			<a href="/technology/bigdata.html">Concepts</a>  |  <a href="/technology/distributedcomputing.html">Distributed Computing</a>  |  <a href="/technology/elasticsearch.html">ElasticSearch</a>  |  <a href="/technology/bigdata-frameworks.html">Frameworks</a>  |  <a href="/technology/hadoop-ecosystem.html">Hadoop Ecosystem</a>  |  <a href="/technology/nosql.html">NoSQL</a>  |  <a href="/technology/concurrency-parallelism.html">Parallel Computing</a>
		</li>

		<li>
			<h3>Cloud Computing</h3>
			<a href="/technology/cloud-computing.html">Concepts</a>  |  <a href="/technology/aws.html">AWS</a>
		</li>

		<li>
			<h3>Database</h3>
			<a href="/technology/rdbms.html">Concepts</a>  |  <a href="/technology/db-design.html">Design</a>  |  <a href="/technology/db-performance.html">Performance</a>  |  <a href="/technology/sql.html">SQL</a>
		</li>

		<li>
			<h3>Functional Programming</h3>
			<a href="/technology/functionalprogramming.html">Concepts</a>
		</li>

		<li>
			<h3>Java</h3>
			<a href="/technology/java.html">Core Concepts</a>  |  <a href="/technology/java-collections.html">Collections</a>  |  <a href="/technology/java-concurrency.html">Concurrency</a>  |  <a href="/technology/java-database.html">Database</a>  |  <a href="/technology/java-jmx.html">JMX</a>  |  <a href="/technology/java-jndi.html">JNDI</a>  |  <a href="/technology/java-io.html">I/O</a>  |  <a href="/technology/java-performance.html">Performance</a>  |  <a href="/technology/java-testing.html">Testing</a>  |  <a href="/technology/java-web.html">Web</a>  |  <a href="/technology/java-newsletters.html">Java Specialist Newsletters</a>
		</li>

		<li>
			<h3>Languages</h3>
			<a href="/technology/groovy.html">Groovy</a>  |  <a href="/technology/python.html">Python</a>  |  <a href="/technology/scala.html">Scala</a>
		</li>

		<li>
			<h3>SOA</h3>
			<a href="/technology/soa.html">Concepts</a>  |  <a href="/technology/camel.html">Camel</a>  |  <a href="/technology/messaging.html">Messaging</a>   |  <a href="/technology/rest-services.html">REST</a>  |  <a href="/technology/soap-services.html">SOAP</a>  |  <a href="/technology/webservices.html">Web Services</a> |  <a href="/technology/xml.html">XML</a>
		</li>

		<li>
			<h3>Spring</h3>
			<a href="/technology/spring-batch.html">Batch</a>  |  <a href="/technology/spring.html">Core</a>  |  <a href="/technology/spring-mvc.html">MVC</a>
		</li>

		<li>
			<h3>Web Programming</h3>
			<a href="/technology/webconcepts.html">Concepts</a> | <a href="/technology/js-ecosystem.html">JS Ecosystem</a>
		</li>

		<li>
			<h3>General Concepts</h3>
			<a href="/technology/algorithms.html">Algorithms</a>  |  <a href="/softskills/brain-teasers.html">Brain Teasers</a>  |  <a href="/technology/datastructures.html">Data Structures</a>  |  <a href="/technology/design-faqs.html">Design FAQs</a>  |  <a href="/technology/networking.html">Networking</a>  |  <a href="/technology/oops.html">OOPS</a>  |  <a href="/technology/os.html">Operating Systems</a>  |  <a href="/technology/vcs.html">VCS</a>  |  <a href="/technology/coding_bibliography.html">Coding Bibliography</a>
		</li>

		<h2>Non-Techninal</h2>

		<li>
			<h3>Data Science</h3>

			<a href="/datascience/datascience.html">Overview</a>  |  <a href="/datascience/statistics.html">Statistics</a>  |  <a href="/datascience/r.html">R</a>
		</li>

		<li>
			<h3>Domain Knowledge</h3>
			<a href="/domain/retirement.html">Retirement</a>
		</li>

		<li>
			<h3>Soft Skills</h3>
			<a href="/softskills/presentation.html">Presentation</a>  |  <a href="/softskills/productivity.html">Productivity</a>  |  <a href="/softskills/written.html">Written Communication</a>
		</li>
	</ul>

  <!-- <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
  </ul> &#8211;>
  <!-- <ul>
    <li><a href="/datascience/statistics.html">Statistics</a></li>
    <li><a href="/datascience/r.html">R Programming</a></li>
  </ul> &#8211;>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/fizalihsan">@fizalihsan</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'fizalihsan',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Mohamed Fizal Ihsan Mohamed -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
